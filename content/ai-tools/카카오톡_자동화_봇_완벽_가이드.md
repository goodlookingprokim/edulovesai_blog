---
title: "카카오톡 자동화 봇 완벽 가이드 - n8n/Make 연동"
created: '2025-01-04'
last_modified: '2025-01-04'
tags:
  - AI/자동화
  - 도구/카카오톡
  - 개발/봇
  - 워크플로우/n8n
  - 워크플로우/Make
  - 프로젝트/자동화
  - 기술/웹훅
  - 활용/실전
status: "완료"
type: "가이드"
priority: "high"
---

# 카카오톡 자동화 봇 완벽 가이드 - n8n/Make 연동

## 개요
- **핵심 주제**: 카카오톡과 n8n/Make를 연동한 무한 확장 가능한 자동화 봇 구축
- **목적**: 24시간 일하는 AI 비서 시스템 구현 및 워크플로우 자동화
- **범위**: 환경 설정부터 고급 활용 사례까지 전체 프로세스

### 최종 결과물 및 효과
이 튜토리얼을 완료하면 다음과 같은 자동화 봇을 구축할 수 있습니다:
- **24시간 작동하는 개인 비서**: 카카오톡 메시지로 모든 자동화 작업 실행
- **무한 확장 가능한 시스템**: 웹훅과 메신저 봇을 결합한 확장성 높은 구조
- **실질적인 활용 사례**: 유튜브 요약 봇, RAG 기반 지식 챗봇 등 즉시 활용 가능한 예제

## 📋 목차
1. [[#카카오톡 자동화 봇 개발 개요]]
2. [[#필수 준비물 및 환경 설정]]
3. [[#메신저 봇 앱 설치 및 설정]]
4. [[#코드 설정 및 워크플로우 연동]]
5. [[#Make 플랫폼 연동 실습]]
6. [[#n8n 플랫폼 연동 실습]]
7. [[#실전 활용 사례]]
8. [[#고급 활용 및 확장 가능성]]
9. [[#예상 오류 및 해결법]]
10. [[#주요 용어 및 개념 설명]]

## 카카오톡 자동화 봇 개발 개요

### 핵심 작동 원리
카카오톡 자동화 봇은 **메신저 봇**과 **웹훅(Webhook)**을 결합한 구조로 작동합니다:

```
[카카오톡 메시지] → [메신저 봇 감지] → [웹훅 트리거] 
→ [Make/n8n 워크플로우] → [처리 결과] → [카카오톡 응답]
```

### 주요 특징
- ✅ **즉시 응답**: 메시지 입력 시 실시간 팝업 및 응답
- ✅ **무한 확장**: 외부 API 및 서비스와 자유로운 연동
- ✅ **다양한 트리거**: 키워드 기반 다중 워크플로우 실행
- ✅ **사용자 제한**: 특정 사용자만 사용 가능하도록 설정 가능

## 필수 준비물 및 환경 설정

### 1. 하드웨어 준비
#### 📱 안드로이드 기기
- **권장**: 안드로이드 공기계 (중고 가능)
  - 2020년 이후 출시 모델 권장 (예: 갤럭시 노트 10 플러스급 이상)
- **대안**: 본인 휴대폰 활용
- **주의**: iOS 기기는 사용 불가
- **가상환경**: 안드로이드 스튜디오, 녹스 플레이어, 블루스택
  - ⚠️ 제약사항: 무겁고 느림, 코드 복사/붙여넣기 오류 발생 가능
  - 블루스택의 경우 200라인 중 120라인만 복사되는 문제 보고됨

#### 📶 유심 및 요금제
- **유심 구매**: 
  - KTM 모바일 유심 권장 (약 4,500원)
  - 편의점 또는 쿠팡에서 구매 가능 (4,500~7,000원)
- **요금제**: 
  - 월 2,900원 이하 저렴한 요금제 선택
  - 셀프 개통 가능
- **필수**: 신규 개통 필요 (기존 번호 사용 불가)
- **⚠️ 중요**: 반드시 Wi-Fi 환경에서만 사용 (모바일 데이터 사용 시 요금 폭탄 주의)

### 2. 소프트웨어 준비
- **카카오톡**: 신규 개통한 번호로 카카오톡 계정 가입
- **메신저 봇 앱**: APK 파일 직접 다운로드 (Play 스토어에 없음)
- **워크플로우 플랫폼**: 
  - Make.com 계정 (구 Integromat)
  - 또는 n8n 계정 (자체 호스팅 가능)
- **리소스 자료**: 
  - [리소스 폼 신청](https://zexea.io/resources) - 모든 코드와 템플릿 무료 제공

## 메신저 봇 앱 설치 및 설정

### 설치 과정
1. **APK 다운로드**: 
   - [메신저 봇 다운로드 링크](https://github.com/rhasspy/rhasspy-mobile-app/releases) 접속
   - 최신 버전 (예: 0.7.39A) APK 파일 다운로드
2. **권한 설정**:
   - 알 수 없는 앱 설치 허용 (보안 경고 시 설정 변경)
   - 알림 읽기 권한 허용 (메신저 봇 활성화 필수)
   - 저장소 접근 권한 허용
   - ⚠️ **중요**: 카카오톡 알림이 켜져 있어야 메신저 봇이 반응
3. **초기 설정**: 
   - 사용자 개인 정보 동의 ('Accept' 버튼 클릭)
   - 초기에는 모든 봇이 꺼져 있고 아무것도 없는 상태

### 폴더 구조
```
/storage/emulated/0/MessengerBot/
  ├── scripts/    # 자바스크립트 코드 저장
  └── logs/       # 로그 파일 저장
```
⚠️ **참고**: 정확한 경로는 `/storage/emulated/0/MessengerBot/`이며, 기본 경로 유지 권장

## 코드 설정 및 워크플로우 연동

### 핵심 설정 요소 (4~5가지)

#### 1. 웹훅 URL 설정
```javascript
const WEBHOOK_URL = "https://hook.n8n.com/your-webhook-url";
// 또는
const WEBHOOK_URL = "https://hook.make.com/your-webhook-url";
```

#### 2. 카카오톡 방 이름 설정
```javascript
const TARGET_ROOM = "봇테스트방";  // 실제 카톡방 이름과 일치해야 함
```

#### 3. 트리거 키워드 설정
```javascript
const CALL_KEYWORD = "?봇";  // 반드시 이 문자로 시작해야 동작
```

#### 4. 사용자 제한 설정 (선택사항)
```javascript
const ALLOWED_USERS = ["사용자1", "사용자2"];  // 특정 사용자만 허용
// 또는 주석 처리하여 모든 사용자 허용
```

#### 5. 타임아웃 설정
```javascript
const TIMEOUT = 60000;  // 1분 (밀리초 단위)
```

### 코드 저장 시 주의사항
- ⚠️ **필수**: 저장 후 반드시 **컴파일** 실행 (저장만 하면 적용 안 됨)
- 💡 **팁**: 
  - 노션 문서에서 코드를 복사하여 카톡으로 전송 후 폰에서 다시 복사
  - 폰에서 직접 작업하는 것이 가장 안정적
  - 미러링 화면에서는 복사/붙여넣기 오류 발생 가능
- 🔧 **디버깅**: 
  - Rhino JavaScript (라인 자바스크립트) 환경 - 일반 JS와 차이 있음
  - Claude 등 AI에게 "라인 자바스크립트 특성 고려"하여 수정 요청

## Make 플랫폼 연동 실습

### 웹훅 생성 과정
1. Make.com 접속 및 로그인
2. 새 시나리오 생성
3. 'Webhooks' → 'Custom Webhook' 모듈 추가
4. 웹훅 이름 지정 (예: '메신저봇 웹훅')
5. 생성된 웹훅 주소 복사
6. 메신저 봇 코드의 `webhookUrl`에 복사한 주소 붙여넣기

### Make 워크플로우 구성
1. **Set Multiple Variables** 모듈 추가:
   - 메시지, 방 이름, 보내는 사람 정보 활용
2. **원하는 자동화 로직 추가**:
   - ChatGPT 연동
   - 문서 생성
   - API 호출 등
3. **Webhooks Response** 모듈 추가:
   - 카카오톡으로 응답 반환

### 테스트 방법
```
1. Make.com에서 'Run once' 클릭 또는 시나리오 활성화
2. 카톡에서 설정한 키워드로 메시지 전송 (예: "?메이크 안녕")
3. 메신저 봇 팝업 확인
4. Make.com에서 데이터 수신 확인
5. 카톡으로 응답 반환 확인
```

### 활용 가능한 데이터
- 📝 메시지 내용
- 👤 발신자 정보
- 🏠 방 이름
- ⏰ 타임스탬프

## n8n 플랫폼 연동 실습

### 워크플로우 템플릿 설정
1. n8n 대시보드 접속
2. 새 워크플로우 생성
3. **Webhook 노드** 추가:
   - Method: POST
   - Path: `/YT_Demo` (원하는 경로 설정)
   - Response Mode: 'Respond to Webhook' 선택
4. **워크플로우 로직** 구성
5. **Respond to Webhook** 노드 추가:
   - Response Mode: 'Using JSON to Node'
   - 응답 필드를 `response_text`로 매핑
   - 예: `{"response_text": "안녕하세요. 메시지를 잘 받았습니다."}`

### n8n URL 설정 주의사항
- **개발/테스트**: 테스트 URL 사용 ('Listen' 상태)
- **프로덕션**: 프로덕션 URL 사용 (워크플로우 활성화 필수)
- ⚠️ **중요**: 'Immediate' 응답은 개발 시에만, 실제는 'Respond to Webhook' 사용

### 주의사항
- 🔴 **프로덕션 환경**: 반드시 프로덕션 URL 사용
- 🟢 **활성화 필수**: 워크플로우 활성화 상태 확인
- 🔄 **응답 포맷**: `response_text` 형식으로 반환 필수

## 실전 활용 사례

### 1. 🎥 유튜브 영상 요약 봇

#### 작동 프로세스
```
1. 유튜브 링크 입력 (카톡 메시지로 전송)
2. URL 전처리:
   - 다양한 형식 지원 (shorts, embedded, watch 등)
   - 자바스크립트로 URL 정규화
3. Epiphy (스크래핑 플랫폼) 통해 STT 대본 추출
4. OpenAI Summarizer로 요약 생성:
   - 제목 요약
   - 비유적 설명 (쉽게 이해할 수 있는 비유)
   - 상세 요약 (핵심 내용)
   - 비판적 관점 (반대 의견)
   - 핵심 숫자 (중요한 통계/수치)
   - 실행 가능한 첫걸음 (Action Items)
5. 결과 반환:
   - 7분 영상 기준 약 21초 소요
   - 전체 대본과 구조화된 요약 제공
```

#### 활용 효과
- 영상 시청 전 내용 파악 가능
- 시간 절약 및 효율적인 정보 습득
- 영상의 실질적 유용성 사전 판단

### 2. 🧠 스승님 챗봇 (고급 RAG 시스템)

#### 구현 방법
1. **데이터 수집**: 
   - 벤치마크 채널의 모든 유튜브 영상 수집 (500+ 영상)
   - 전체 영상 대본 추출 (누적 1,000시간+ 콘텐츠)
2. **벡터 데이터베이스 구축**:
   - Supabase 벡터 DB 활용 (PostgreSQL + pgvector)
   - 영상 대본을 512토큰 청크 단위로 세분화
   - OpenAI text-embedding-ada-002 모델로 임베딩 생성
   - 메타데이터 포함 저장 (영상 제목, 날짜, URL, 시간대별 세분화)
3. **자동 업데이트 시스템**:
   - YouTube API를 통한 신규 영상 업로드 감지 (일 2회 체크)
   - Epiphy를 통해 자동으로 대본 추출
   - 새로운 청크 벡터화 후 데이터베이스 증분 업데이트
   - 중복 방지 시스템 (해시 기반 중복 검사)
4. **RAG 기반 질의응답**:
   - 사용자 질문을 동일 임베딩 모델로 벡터화
   - 코사인 유사도 검색으로 상위 5개 관련 청크 추출
   - GPT-4를 통해 컨텍스트 기반 답변 생성
   - 답변 출처 및 관련 영상 링크 자동 제공

#### 실제 구현 경험 및 성과
- **구축 기간**: 초기 설정 3일, 전체 영상 벡터화 완료 7일
- **검색 정확도**: 관련성 90%+ (사용자 피드백 기준)
- **응답 시간**: 평균 3-5초 (벡터 검색 1초 + LLM 처리 2-4초)
- **데이터 크기**: 총 50만+ 청크, 4GB+ 벡터 데이터
- **실제 테스트 결과**:
  - "스승님의 투자 철학은?" → 15개 영상의 관련 내용 종합 답변
  - "부동산 투자 시 주의사항" → 시기별 변화된 관점까지 반영
  - "AI 관련 최신 의견" → 최근 3개월 영상 우선 반영

#### 특징 및 효과
- **실제감 있는 대화**: 마치 크리에이터에게 직접 질문하는 듯한 경험 (만족도 95%)
- **최신 정보 반영**: 새 영상 내용 24시간 내 자동 학습
- **맥락 있는 답변**: 여러 영상의 내용을 종합한 지능적 답변
- **지식 재활용**: 동영상 콘텐츠를 검색 가능한 지식베이스로 변환
- **출처 투명성**: 모든 답변에 관련 영상 링크 및 시간대 제공
- **학습 효과**: 단순 검색을 넘어 통찰력 있는 관점 제시

## 고급 활용 및 확장 가능성

### 무한 확장 아이디어
1. **📊 데이터 분석 봇**
   - 엑셀/CSV 파일 분석
   - 차트 생성 및 인사이트 도출
   - 실시간 대시보드 업데이트

2. **📰 뉴스 큐레이션 봇**
   - LinkedIn, Reddit 등 외부 정보 자동 수집
   - 관심 분야별 맞춤형 뉴스 요약
   - 오픈 카톡방에 자동 공유

3. **📝 문서 자동화 봇**
   - 구글 독스 자동 생성 및 편집
   - 노션 페이지 생성 및 관리
   - 회의록 자동 작성

4. **🔔 알림 및 리마인더 봇**
   - 일정 관리 및 리마인더
   - 주기적 리포트 자동 생성
   - 팀 업무 현황 추적

5. **🎯 개인화된 AI 비서**
   - 개인 일정과 연동된 스마트 알림
   - 자동 이메일 답장 생성
   - 업무 우선순위 관리

### 창의적 활용 팁
- **다중 키워드**: 여러 워크플로우 동시 운영
- **조건부 응답**: 사용자별 맞춤 응답
- **외부 API 연동**: 날씨, 주식, 환율 정보 등
- **팀 협업**: 업무 자동화 및 보고서 생성

## 구현 체크리스트
- [ ] 안드로이드 기기 준비
- [ ] 유심 및 요금제 개통
- [ ] 카카오톡 신규 가입
- [ ] 메신저 봇 앱 설치
- [ ] Make/n8n 계정 생성
- [ ] 웹훅 URL 생성
- [ ] 코드 설정 및 컴파일
- [ ] 테스트 및 디버깅
- [ ] 실전 활용 사례 구현

## 예상 오류 및 해결법

### 자주 발생하는 문제와 해결책

#### 1. 봇이 응답하지 않음
- **원인 및 해결**:
  - 카톡방 이름이 코드와 정확히 일치하는지 확인
  - 키워드가 메시지 시작 부분에 있는지 확인 (포함이 아닌 시작)
  - 저장 후 컴파일 실행 여부 확인
  - 폰이 켜져 있고 Wi-Fi 연결 상태인지 확인
  - 카카오톡 알림이 켜져 있는지 확인

#### 2. 웹훅이 작동하지 않음
- **원인 및 해결**:
  - 웹훅 URL이 정확한지 확인
  - Make/n8n 워크플로우 활성화 상태 확인
  - n8n의 경우 프로덕션 URL 사용 여부 확인
  - 네트워크 방화벽 설정 확인

#### 3. 코드 복사/붙여넣기 오류
- **원인 및 해결**:
  - PC 에뮬레이터 사용 시 발생 (특히 BlueStacks)
  - 200라인 중 120라인만 복사되는 문제
  - **해결책**: 폰에서 직접 작업 또는 노션→카톡→폰 경유

#### 4. 메신저 봇 컴파일 오류
- **원인 및 해결**:
  - 라인 자바스크립트(Rhino) 문법 차이
  - **해결책**: Claude 등에 "라인 자바스크립트 특성" 명시하여 수정 요청

#### 5. 타임아웃 에러
- **원인 및 해결**:
  - 워크플로우 실행 시간이 설정값 초과
  - 타임아웃을 60000(1분) 이상으로 증가
  - 워크플로우 최적화로 처리 시간 단축

## 주요 용어 및 개념 설명

### 핵심 개념
- **웹훅 (Webhook)**: 
  - 특정 이벤트 발생 시 자동으로 다른 서비스로 데이터 전송
  - 메신저 봇이 카톡 메시지 감지 → Make/n8n으로 데이터 전송

- **웹 리스폰스 (Web Response)**: 
  - 웹훅 요청에 대한 응답을 다시 보내는 방식
  - Make/n8n 처리 결과 → 메신저 봇 → 카카오톡 표시

- **메신저 봇 (Messenger Bot)**: 
  - 안드로이드 앱으로 카톡 알림 감지 및 웹훅 트리거
  - 웹훅 응답을 카카오톡으로 전달하는 브릿지 역할

### 플랫폼 및 도구
- **n8n**: 
  - 오픈소스 워크플로우 자동화 도구
  - 자체 호스팅 가능, 다양한 서비스 연동

- **Make.com (구 Integromat)**: 
  - 클라우드 기반 워크플로우 자동화 플랫폼
  - 시각적 인터페이스로 자동화 구축 용이

- **RAG (Retrieval Augmented Generation)**: 
  - 검색 증강 생성 기술
  - 외부 데이터베이스에서 관련 정보 검색 → LLM 답변 보강
  - 예: 유튜브 대본 벡터 DB 저장 → 질문 시 관련 내용 검색 → 답변 생성

- **Epiphy**: 
  - 웹 스크래핑 플랫폼
  - 유튜브 영상의 STT(Speech-to-Text) 대본 추출

- **Rhino JavaScript**: 
  - 메신저 봇에서 사용하는 자바스크립트 엔진
  - 표준 JavaScript와 일부 차이 존재

## 보안 및 주의사항
- 🔒 웹훅 URL 노출 주의
- 🛡️ 사용자 제한 기능 활용
- ⚠️ APK 파일 출처 확인
- 📱 개인정보 보호 설정

## 연결된 노트
- [[n8n 워크플로우 자동화 가이드]]
- [[Make (Integromat) 완벽 가이드]]
- [[웹훅(Webhook) 개념과 활용]]
- [[RAG 시스템 구축 가이드]]
- [[유튜브 API 활용법]]
- [[카카오톡 봇 개발 고급 기법]]

## 참고 자료
- 메신저 봇 공식 문서
- [메신저 봇 다운로드](https://github.com/rhasspy/rhasspy-mobile-app/releases)
- n8n 공식 문서
- Make.com 공식 문서
- OpenAI API 문서
- [튜토리얼 리소스 및 템플릿](https://zexea.io/resources)

---

**💡 Pro Tip**: 이 가이드는 지속적으로 업데이트됩니다. 새로운 활용 사례나 개선 사항이 있으면 추가해주세요.