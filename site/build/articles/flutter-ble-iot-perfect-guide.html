<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flutter BLE 블루투스 IoT 완벽 가이드 | AI &amp; Development Journal</title>
  <meta name="description" content="&quot;스마트폰과 IoT 기기를 연결하는 마법! 블루투스 통신의 모든 것&quot; - 🌟 들어가며 - 🤔 핵심 개념 이해   - 블루투스란?   - BLE vs 블루투스 클래식   - 센트럴과 프리퍼럴 - 📡 1단계: BLE 4단계 원리 - 🏗️ 2단계: GATT 프로파일...">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Flutter BLE 블루투스 IoT 완벽 가이드">
  <meta property="og:description" content="&quot;스마트폰과 IoT 기기를 연결하는 마법! 블루투스 통신의 모든 것&quot; - 🌟 들어가며 - 🤔 핵심 개념 이해   - 블루투스란?   - BLE vs 블루투스 클래식   - 센트럴과 프리퍼럴 - 📡 1단계: BLE 4단계 원리 - 🏗️ 2단계: GATT 프로파일...">
  <meta property="og:image" content="/assets/images/development-guides-placeholder.svg">
  <meta property="og:url" content="https://passeth.github.io/MY-BLOG_OBSI/articles/flutter-ble-iot-perfect-guide.html">
  <meta property="og:type" content="article">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Flutter BLE 블루투스 IoT 완벽 가이드">
  <meta name="twitter:description" content="&quot;스마트폰과 IoT 기기를 연결하는 마법! 블루투스 통신의 모든 것&quot; - 🌟 들어가며 - 🤔 핵심 개념 이해   - 블루투스란?   - BLE vs 블루투스 클래식   - 센트럴과 프리퍼럴 - 📡 1단계: BLE 4단계 원리 - 🏗️ 2단계: GATT 프로파일...">
  <meta name="twitter:image" content="/assets/images/development-guides-placeholder.svg">
  
  <link rel="stylesheet" href="/styles/main.css">
  <link rel="canonical" href="https://passeth.github.io/MY-BLOG_OBSI/articles/flutter-ble-iot-perfect-guide.html">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <a href="/" class="site-logo">
        <span class="site-logo__text">AI &amp; Development Journal</span>
      </a>
      <nav class="site-nav">
        <a href="/category/ai-tools.html">AI 도구</a>
        <a href="/category/claude-code.html">Claude Code</a>
        <a href="/category/mcp-servers.html">MCP</a>
        <a href="/category/development-guides.html">개발 가이드</a>
        <a href="/category/tutorials.html">튜토리얼</a>
        <a href="/category/obsidian-integration.html">Obsidian</a>
      </nav>
      <button class="menu-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Article -->
  <article class="article">
    <!-- Hero -->
    <header class="article-hero">
      <div class="container">
        <a href="/category/development-guides.html" class="article-category" style="background-color: #f59e0b">
          개발 가이드
        </a>
        <h1 class="article-title">Flutter BLE 블루투스 IoT 완벽 가이드</h1>
        <div class="article-meta">
          <a href="/journalist/dev-guide.html" class="article-author">
            <img src="/assets/personas/dev-guide.svg" alt="개발 가이드" class="article-author__avatar">
            <div class="article-author__info">
              <span class="article-author__name">개발 가이드</span>
              <span class="article-author__role">Development Guide Writer</span>
            </div>
          </a>
          <div class="article-meta__details">
            <time datetime="2025년 10월 12일">2025년 10월 12일</time>
            <span class="article-meta__separator">·</span>
            <span>60 min read</span>
          </div>
        </div>
      </div>
    </header>

    <!-- Content with Sidebar -->
    <div class="article-layout">
      <div class="container">
        <div class="article-layout__wrapper">
          <!-- Main Content -->
          <div class="article-content">
            <!-- Table of Contents (auto-generated for articles with 3+ headings) -->
            
<nav class="toc" aria-label="Table of contents">
  <div class="toc__header">
    <span class="toc__title">목차</span>
    <button class="toc__toggle" aria-expanded="true" onclick="toggleToc(this)">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="6 9 12 15 18 9"></polyline>
      </svg>
    </button>
  </div>
  <ol class="toc__list">
    
    <li class="toc__item">
      <a href="#목차" class="toc__link">📑 목차</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#빠른-네비게이션" class="toc__link">🎯 빠른 네비게이션</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#학습-로드맵" class="toc__link">📊 학습 로드맵</a>
    </li>
    <li class="toc__item">
      <a href="#들어가며-왜-블루투스-통신을-배워야-할까요" class="toc__link">🌟 들어가며: 왜 블루투스 통신을 배워야 할까요?</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#스토리-지수의-스마트홈-도전기" class="toc__link">📖 스토리: 지수의 스마트홈 도전기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#해결책-블루투스-통신" class="toc__link">✨ 해결책: 블루투스 통신!</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#블루투스-통신으로-할-수-있는-것들" class="toc__link">🎯 블루투스 통신으로 할 수 있는 것들</a>
    </li>
    <li class="toc__item">
      <a href="#파인만-기법으로-이해하는-블루투스-통신" class="toc__link">🤔 파인만 기법으로 이해하는 블루투스 통신</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#블루투스란-무엇인가" class="toc__link">블루투스란 무엇인가?</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#ble-vs-블루투스-클래식" class="toc__link">BLE vs 블루투스 클래식</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#센트럴과-프리퍼럴의-역할" class="toc__link">센트럴과 프리퍼럴의 역할</a>
    </li>
    <li class="toc__item">
      <a href="#1단계-ble-통신의-4단계-원리" class="toc__link">📡 1단계: BLE 통신의 4단계 원리</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#ble-통신은-어떻게-이루어질까" class="toc__link">BLE 통신은 어떻게 이루어질까?</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#1단계-advertising-광고" class="toc__link">📢 1단계: Advertising (광고)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#2단계-scanning-스캐닝" class="toc__link">🔍 2단계: Scanning (스캐닝)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#3단계-connection-연결" class="toc__link">🤝 3단계: Connection (연결)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#4단계-data-exchange-데이터-교환" class="toc__link">💬 4단계: Data Exchange (데이터 교환)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#4단계-요약-다이어그램" class="toc__link">📊 4단계 요약 다이어그램</a>
    </li>
    <li class="toc__item">
      <a href="#2단계-gatt-프로파일-이해하기" class="toc__link">🏗️ 2단계: GATT 프로파일 이해하기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#gatt란-무엇인가" class="toc__link">GATT란 무엇인가?</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#gatt-구조의-3단계-계층" class="toc__link">🏗️ GATT 구조의 3단계 계층</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#service-서비스" class="toc__link">📁 Service (서비스)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#characteristic-캐릭터리스틱" class="toc__link">📄 Characteristic (캐릭터리스틱)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#초급-예제-온도-센서의-gatt-구조" class="toc__link">🌱 초급 예제: 온도 센서의 GATT 구조</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#중급-예제-flutter에서-gatt-탐색하기" class="toc__link">🌿 중급 예제: Flutter에서 GATT 탐색하기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#고급-예제-커스텀-gatt-프로파일-설계" class="toc__link">🌳 고급 예제: 커스텀 GATT 프로파일 설계</a>
    </li>
    <li class="toc__item">
      <a href="#3단계-캐릭터리스틱의-3가지-기능" class="toc__link">⚙️ 3단계: 캐릭터리스틱의 3가지 기능</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#read-읽기" class="toc__link">📖 Read (읽기)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#write-쓰기" class="toc__link">✏️ Write (쓰기)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#notify-알림" class="toc__link">🔔 Notify (알림)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#readwritenotify-완벽-비교표" class="toc__link">📊 Read/Write/Notify 완벽 비교표</a>
    </li>
    <li class="toc__item">
      <a href="#4단계-flutter-프로젝트-설정하기" class="toc__link">🔧 4단계: Flutter 프로젝트 설정하기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#flutter-프로젝트-생성" class="toc__link">Flutter 프로젝트 생성</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#flutter_blue_plus-패키지-설치" class="toc__link">flutter_blue_plus 패키지 설치</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#프로젝트-구조-이해하기" class="toc__link">프로젝트 구조 이해하기</a>
    </li>
    <li class="toc__item">
      <a href="#5단계-안드로이드ios-권한-설정" class="toc__link">📱 5단계: 안드로이드/iOS 권한 설정</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#왜-권한이-필요한가" class="toc__link">왜 권한이 필요한가?</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#안드로이드-권한-설정" class="toc__link">🤖 안드로이드 권한 설정</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#ios-권한-설정" class="toc__link">🍎 iOS 권한 설정</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#런타임-권한-요청-코드" class="toc__link">🔐 런타임 권한 요청 (코드)</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#주의사항" class="toc__link">⚠️ 주의사항</a>
    </li>
    <li class="toc__item">
      <a href="#6단계-ble-기기-스캔-구현하기" class="toc__link">🎨 6단계: BLE 기기 스캔 구현하기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#스캔-화면-만들기" class="toc__link">스캔 화면 만들기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#기기-타일-위젯-만들기" class="toc__link">기기 타일 위젯 만들기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#필터링-기능-추가" class="toc__link">필터링 기능 추가</a>
    </li>
    <li class="toc__item">
      <a href="#7단계-기기-연결-및-데이터-통신" class="toc__link">🔌 7단계: 기기 연결 및 데이터 통신</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#기기-상세-화면-만들기" class="toc__link">기기 상세 화면 만들기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#서비스-타일-위젯" class="toc__link">서비스 타일 위젯</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#캐릭터리스틱-타일-위젯" class="toc__link">캐릭터리스틱 타일 위젯</a>
    </li>
    <li class="toc__item">
      <a href="#8단계-온도-센서-모니터링-앱" class="toc__link">💡 8단계: 온도 센서 모니터링 앱</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#프로젝트-개요" class="toc__link">🌟 프로젝트 개요</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#고급-완전한-온도-모니터링-앱" class="toc__link">🌳 고급: 완전한 온도 모니터링 앱</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#pubspecyaml에-그래프-라이브러리-추가" class="toc__link">pubspec.yaml에 그래프 라이브러리 추가</a>
    </li>
    <li class="toc__item">
      <a href="#9단계-led-제어-앱-만들기" class="toc__link">🎮 9단계: LED 제어 앱 만들기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#프로젝트-개요" class="toc__link">🌟 프로젝트 개요</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#고급-완전한-led-제어-앱" class="toc__link">🌳 고급: 완전한 LED 제어 앱</a>
    </li>
    <li class="toc__item">
      <a href="#10단계-자주-발생하는-문제-해결" class="toc__link">🐛 10단계: 자주 발생하는 문제 해결</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#문제-1-기기가-스캔되지-않음" class="toc__link">문제 1: 기기가 스캔되지 않음</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#문제-2-연결-실패-또는-즉시-끊김" class="toc__link">문제 2: 연결 실패 또는 즉시 끊김</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#문제-3-ios에서-ble가-작동하지-않음" class="toc__link">문제 3: iOS에서 BLE가 작동하지 않음</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#문제-4-서비스캐릭터리스틱을-찾을-수-없음" class="toc__link">문제 4: 서비스/캐릭터리스틱을 찾을 수 없음</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#문제-5-readwritenotify가-작동하지-않음" class="toc__link">문제 5: Read/Write/Notify가 작동하지 않음</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#디버깅-팁" class="toc__link">🎯 디버깅 팁</a>
    </li>
    <li class="toc__item">
      <a href="#용어-사전" class="toc__link">📚 용어 사전</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#a-z" class="toc__link">A-Z</a>
    </li>
    <li class="toc__item">
      <a href="#참고-자료-및-추가-학습" class="toc__link">🔗 참고 자료 및 추가 학습</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#공식-문서" class="toc__link">공식 문서</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#추천-학습-자료" class="toc__link">추천 학습 자료</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#유용한-도구" class="toc__link">유용한 도구</a>
    </li>
    <li class="toc__item">
      <a href="#학습-체크리스트" class="toc__link">✅ 학습 체크리스트</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#기초-개념" class="toc__link">기초 개념</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#flutter-개발" class="toc__link">Flutter 개발</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#ble-통신" class="toc__link">BLE 통신</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#데이터-통신" class="toc__link">데이터 통신</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#실전-프로젝트" class="toc__link">실전 프로젝트</a>
    </li>
    <li class="toc__item">
      <a href="#마무리하며" class="toc__link">🎓 마무리하며</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#축하합니다" class="toc__link">🎉 축하합니다!</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#다음-단계는" class="toc__link">💡 다음 단계는?</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#여러분만의-프로젝트-아이디어" class="toc__link">🌟 여러분만의 프로젝트 아이디어</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#계속-학습하기" class="toc__link">📚 계속 학습하기</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#커뮤니티" class="toc__link">🤝 커뮤니티</a>
    </li>
    <li class="toc__item toc__item--indent-1">
      <a href="#마지막-조언" class="toc__link">💬 마지막 조언</a>
    </li>
  </ol>
</nav>

            <h1>🔵 Flutter BLE 블루투스 IoT 완벽 가이드</h1>
<p><em>&quot;스마트폰과 IoT 기기를 연결하는 마법! 블루투스 통신의 모든 것&quot;</em></p>
<h2 id="목차">📑 목차 {#목차}</h2>
<h3 id="빠른-네비게이션">🎯 빠른 네비게이션 {#빠른-네비게이션}</h3>
<h4>📚 Part 1: 블루투스 통신 기초</h4>
<ul>
<li><a href="#%F0%9F%8C%9F-%EB%93%A4%EC%96%B4%EA%B0%80%EB%A9%B0-%EC%99%9C-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4-%ED%86%B5%EC%8B%A0%EC%9D%84-%EB%B0%B0%EC%9B%8C%EC%95%BC-%ED%95%A0%EA%B9%8C%EC%9A%94">🌟 들어가며</a></li>
<li><a href="#%F0%9F%A4%94-%ED%8C%8C%EC%9D%B8%EB%A7%8C-%EA%B8%B0%EB%B2%95%EC%9C%BC%EB%A1%9C-%EC%9D%B4%ED%95%B4%ED%95%98%EB%8A%94-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4-%ED%86%B5%EC%8B%A0">🤔 핵심 개념 이해</a><ul>
<li><a href="#%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4%EB%9E%80-%EB%AC%B4%EC%97%87%EC%9D%B8%EA%B0%80">블루투스란?</a></li>
<li><a href="#ble-vs-%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4-%ED%81%B4%EB%9E%98%EC%8B%9D">BLE vs 블루투스 클래식</a></li>
<li><a href="#%EC%84%BC%ED%8A%B8%EB%9F%B4%EA%B3%BC-%ED%94%84%EB%A6%AC%ED%8D%BC%EB%9F%B4%EC%9D%98-%EC%97%AD%ED%95%A0">센트럴과 프리퍼럴</a></li>
</ul>
</li>
</ul>
<h4>🛠️ Part 2: BLE 통신 원리</h4>
<ul>
<li><a href="#%F0%9F%93%A1-1%EB%8B%A8%EA%B3%84-ble-%ED%86%B5%EC%8B%A0%EC%9D%98-4%EB%8B%A8%EA%B3%84-%EC%9B%90%EB%A6%AC">📡 1단계: BLE 4단계 원리</a></li>
<li><a href="#%F0%9F%8F%97%EF%B8%8F-2%EB%8B%A8%EA%B3%84-gatt-%ED%94%84%EB%A1%9C%ED%8C%8C%EC%9D%BC-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0">🏗️ 2단계: GATT 프로파일</a></li>
<li><a href="#%E2%9A%99%EF%B8%8F-3%EB%8B%A8%EA%B3%84-%EC%BA%90%EB%A6%AD%ED%84%B0%EB%A6%AC%EC%8A%A4%ED%8B%B1%EC%9D%98-3%EA%B0%80%EC%A7%80-%EA%B8%B0%EB%8A%A5">⚙️ 3단계: 캐릭터리스틱 기능</a></li>
</ul>
<h4>💻 Part 3: Flutter 실전 구현</h4>
<ul>
<li><a href="#%F0%9F%94%A7-4%EB%8B%A8%EA%B3%84-flutter-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0">🔧 4단계: 프로젝트 설정</a></li>
<li><a href="#%F0%9F%93%B1-5%EB%8B%A8%EA%B3%84-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9Cios-%EA%B6%8C%ED%95%9C-%EC%84%A4%EC%A0%95">📱 5단계: 권한 설정</a></li>
<li><a href="#%F0%9F%8E%A8-6%EB%8B%A8%EA%B3%84-ble-%EA%B8%B0%EA%B8%B0-%EC%8A%A4%EC%BA%94-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0">🎨 6단계: BLE 스캔 구현</a></li>
<li><a href="#%F0%9F%94%8C-7%EB%8B%A8%EA%B3%84-%EA%B8%B0%EA%B8%B0-%EC%97%B0%EA%B2%B0-%EB%B0%8F-%EB%8D%B0%EC%9D%B4%ED%84%B0-%ED%86%B5%EC%8B%A0">🔌 7단계: 연결 및 데이터 통신</a></li>
</ul>
<h4>🚀 Part 4: 실전 프로젝트</h4>
<ul>
<li><a href="#%F0%9F%92%A1-8%EB%8B%A8%EA%B3%84-%EC%98%A8%EB%8F%84-%EC%84%BC%EC%84%9C-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%EC%95%B1">💡 8단계: 온도 센서 앱</a></li>
<li><a href="#%F0%9F%8E%AE-9%EB%8B%A8%EA%B3%84-led-%EC%A0%9C%EC%96%B4-%EC%95%B1-%EB%A7%8C%EB%93%A4%EA%B8%B0">🎮 9단계: LED 제어 앱</a></li>
<li><a href="#%F0%9F%90%9B-10%EB%8B%A8%EA%B3%84-%EC%9E%90%EC%A3%BC-%EB%B0%9C%EC%83%9D%ED%95%98%EB%8A%94-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0">🐛 10단계: 문제 해결</a></li>
</ul>
<h4>📖 부록</h4>
<ul>
<li><a href="#%F0%9F%93%9A-%EC%9A%A9%EC%96%B4-%EC%82%AC%EC%A0%84">📚 용어 사전</a></li>
<li><a href="#%F0%9F%94%97-%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C-%EB%B0%8F-%EC%B6%94%EA%B0%80-%ED%95%99%EC%8A%B5">🔗 참고 자료</a></li>
<li><a href="#%E2%9C%85-%ED%95%99%EC%8A%B5-%EC%B2%B4%ED%81%AC%EB%A6%AC%EC%8A%A4%ED%8A%B8">✅ 체크리스트</a></li>
</ul>
<h3 id="학습-로드맵">📊 학습 로드맵 {#학습-로드맵}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6657" onclick="copyCode('code-1769481055219-6657')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6657" class="language-plaintext">┌─────────────────────────────────────────────────────────┐
│  Day 1: 블루투스 기초 개념 (1.5시간)                   │
│  ├─ 블루투스와 BLE 이해                                 │
│  ├─ 센트럴/프리퍼럴 역할                                │
│  └─ BLE 4단계 원리                                      │
├─────────────────────────────────────────────────────────┤
│  Day 2: GATT 프로파일 (2시간)                           │
│  ├─ GATT 구조 이해                                      │
│  ├─ 서비스와 캐릭터리스틱                               │
│  └─ Read/Write/Notify                                   │
├─────────────────────────────────────────────────────────┤
│  Day 3: Flutter 환경 설정 (1.5시간)                     │
│  ├─ flutter_blue_plus 패키지                            │
│  ├─ 안드로이드/iOS 권한 설정                            │
│  └─ 기본 프로젝트 구조                                  │
├─────────────────────────────────────────────────────────┤
│  Day 4: BLE 스캔 및 연결 (2시간)                        │
│  ├─ 주변 기기 스캔                                      │
│  ├─ 기기 연결/해제                                      │
│  └─ 서비스 검색                                         │
├─────────────────────────────────────────────────────────┤
│  Day 5: 데이터 통신 구현 (2.5시간)                      │
│  ├─ Read 기능 구현                                      │
│  ├─ Write 기능 구현                                     │
│  ├─ Notify 구독                                         │
│  └─ 실시간 데이터 처리                                  │
├─────────────────────────────────────────────────────────┤
│  Day 6: 실전 프로젝트 (3시간)                           │
│  ├─ 온도 센서 앱                                        │
│  ├─ LED 제어 앱                                         │
│  └─ 통합 IoT 대시보드                                   │
└─────────────────────────────────────────────────────────┘</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">32 lines</span>
  </div>
</div>

<hr>
<h2 id="들어가며-왜-블루투스-통신을-배워야-할까요">🌟 들어가며: 왜 블루투스 통신을 배워야 할까요? {#들어가며-왜-블루투스-통신을-배워야-할까요}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="스토리-지수의-스마트홈-도전기">📖 스토리: 지수의 스마트홈 도전기 {#스토리-지수의-스마트홈-도전기}</h3>
<p>지수는 아두이노로 온도 센서를 만들었습니다. LED도 깜빡이게 하고, 온도도 측정할 수 있었죠. 하지만 문제가 있었습니다.</p>
<p><strong>😰 지수가 겪은 문제들</strong>:</p>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6658" onclick="copyCode('code-1769481055219-6658')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6658" class="language-plaintext">문제 1: &quot;센서 값을 보려면 아두이노에 직접 가야 해요!&quot;
   → 거실에서 침실 온도를 확인할 수 없음

<p>문제 2: &quot;LED를 끄려면 방에 들어가서 버튼을 눌러야 해요!&quot;
   → 소파에 누워서 제어 불가능</p>
<p>문제 3: &quot;여러 개의 센서 값을 한 번에 볼 수 없어요!&quot;
   → 각 센서를 일일이 확인해야 함</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">6 lines</span>
  </div></p>
</div>

<h3 id="해결책-블루투스-통신">✨ 해결책: 블루투스 통신! {#해결책-블루투스-통신}</h3>
<p>지수가 블루투스 통신을 배우고 나서 달라진 모습:</p>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6659" onclick="copyCode('code-1769481055219-6659')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6659" class="language-plaintext">🎉 Before → After

<p>Before:
침실 온도 확인하려고 일어남 (3분 소요)
   ↓
After:
스마트폰 앱 터치 한 번! (3초 소요)
⏰ 시간 절약: 60배!</p>
<p>Before:
LED 제어하려고 방문 (귀찮음 × 100)
   ↓
After:
소파에서 앱으로 제어 (편안함 × 100)</p>
<p>Before:
5개 센서 일일이 확인 (15분 소요)
   ↓
After:
한 화면에 모든 센서 표시 (1초 소요)
⏰ 시간 절약: 900배!</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">18 lines</span>
  </div></p>
</div>

<h3 id="블루투스-통신으로-할-수-있는-것들">🎯 블루투스 통신으로 할 수 있는 것들 {#블루투스-통신으로-할-수-있는-것들}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6660" onclick="copyCode('code-1769481055219-6660')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6660" class="language-plaintext">🏠 스마트홈
├─ 💡 LED 조명 제어 (ON/OFF, 밝기 조절)
├─ 🌡️ 온도/습도 모니터링
├─ 🔔 문 열림 감지 알림
└─ 🎵 스마트 스피커 제어

<p>🏥 헬스케어
├─ ❤️ 심박수 측정 (스마트 밴드)
├─ 🏃 운동량 추적
├─ 😴 수면 패턴 분석
└─ 💊 약 복용 알림</p>
<p>🚗 자동차/교통
├─ 🗝️ 스마트 키 (차 문 열기)
├─ 🎤 핸즈프리 통화
├─ 🎧 무선 오디오
└─ 📱 차량 진단</p>
<p>🎮 취미/엔터테인먼트
├─ 🎮 게임 컨트롤러
├─ 🚁 드론 조종
├─ 🤖 로봇 제어
└─ 🎨 전자 악기</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">20 lines</span>
  </div></p>
</div>

<hr>
<h2 id="파인만-기법으로-이해하는-블루투스-통신">🤔 파인만 기법으로 이해하는 블루투스 통신 {#파인만-기법으로-이해하는-블루투스-통신}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="블루투스란-무엇인가">블루투스란 무엇인가? {#블루투스란-무엇인가}</h3>
<h4>5세 아이에게 설명한다면...</h4>
<p>**블루투스는 &quot;보이지 않는 전선&quot;**입니다!</p>
<p>일반적으로 전자기기끼리 대화하려면 선(케이블)이 필요합니다. 마치 실 전화기처럼요. 하지만 블루투스를 사용하면 <strong>선 없이 공중으로</strong> 이야기할 수 있어요!</p>
<h4>🎭 비유: 무전기로 대화하기</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6661" onclick="copyCode('code-1769481055219-6661')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6661" class="language-plaintext">🎤 기존 방식 (유선)
선 전화기로 대화
   │
   ├─ 장점: 명확하고 끊김 없음
   └─ 단점: 선에 묶여있어야 함

<p>📻 블루투스 방식 (무선)
무전기로 대화
   │
   ├─ 장점: 자유롭게 이동 가능
   ├─ 장점: 선 정리 필요 없음
   └─ 제한: 약 10m 거리 내에서만 가능</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">11 lines</span>
  </div></p>
</div>

<h4>📊 블루투스 통신의 특징</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6662" onclick="copyCode('code-1769481055219-6662')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6662" class="language-plaintext">🔵 블루투스의 핵심 특징

<ol>
<li><p>근거리 통신 (약 10m)
마치... 방 안에서만 들리는 작은 목소리!</p>
<p>비유: 교실에서 옆 친구와 속삭이기</p>
<ul>
<li>옆 친구는 들림 ✅</li>
<li>복도에 있는 친구는 안 들림 ❌</li>
</ul>
</li>
<li><p>전력 소모가 적음 (특히 BLE)
마치... 손전등 vs 형광등!</p>
<p>비유:</p>
<ul>
<li>블루투스 클래식 = 형광등 (밝지만 전기 많이 씀)</li>
<li>BLE = LED 손전등 (적은 전기로 오래 사용)</li>
</ul>
</li>
<li><p>케이블 불필요
마치... 새가 자유롭게 날아다니는 것!</p>
<p>비유:</p>
<ul>
<li>유선 = 줄에 묶인 풍선</li>
<li>블루투스 = 자유로운 새</li>
</ul>
</li>
<li><p>간단한 연결
마치... 친구 찾기 게임!</p>
<p>1단계: &quot;여기 있어요!&quot; (광고)
2단계: &quot;누구 있어요?&quot; (스캔)
3단계: &quot;손잡아요!&quot; (연결)
4단계: &quot;대화 시작!&quot; (데이터 교환)</code></pre></p>
</li>
</ol>
  <div class="code-block__footer">
    <span class="code-block__lines">22 lines</span>
  </div>
</div>

<hr>
<h3 id="ble-vs-블루투스-클래식">BLE vs 블루투스 클래식 {#ble-vs-블루투스-클래식}</h3>
<h4>🆚 두 가지 블루투스의 차이</h4>
<p><strong>블루투스 클래식</strong> = 큰 물호스</p>
<ul>
<li>물(데이터)을 <strong>계속해서 많이</strong> 보냄</li>
<li>정원에 물 주기 (오디오 스트리밍)</li>
<li>전기(배터리)를 많이 씀</li>
</ul>
<p><strong>BLE (저전력 블루투스)</strong> = 스포이드</p>
<ul>
<li>물(데이터)을 <strong>조금씩 필요할 때만</strong> 보냄</li>
<li>화분에 물 한 방울 (센서 데이터)</li>
<li>전기(배터리)를 아주 조금 씀</li>
</ul>
<h4>📊 상세 비교표</h4>
<table>
<thead>
<tr>
<th>특성</th>
<th>블루투스 클래식</th>
<th>BLE (Bluetooth Low Energy)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>전력 소모</strong></td>
<td>🔋🔋🔋🔋 높음</td>
<td>🔋 매우 낮음 (최대 100배 절약)</td>
</tr>
<tr>
<td><strong>데이터 전송</strong></td>
<td>📊 연속적, 대용량</td>
<td>📊 간헐적, 소량</td>
</tr>
<tr>
<td><strong>주요 용도</strong></td>
<td>🎧 오디오, 🎮 게임 컨트롤러</td>
<td>🌡️ 센서, ❤️ 웨어러블</td>
</tr>
<tr>
<td><strong>연결 속도</strong></td>
<td>🐢 느림 (수 초)</td>
<td>🚀 빠름 (수 밀리초)</td>
</tr>
<tr>
<td><strong>범위</strong></td>
<td>📡 ~100m</td>
<td>📡 ~10m</td>
</tr>
<tr>
<td><strong>배터리 수명</strong></td>
<td>⏰ 며칠</td>
<td>⏰ 몇 달~몇 년</td>
</tr>
<tr>
<td><strong>데이터 구조</strong></td>
<td>🔀 복잡</td>
<td>🎯 간단 (GATT)</td>
</tr>
</tbody></table>
<h4>🎯 언제 무엇을 사용할까?</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6663" onclick="copyCode('code-1769481055219-6663')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6663" class="language-plaintext">🎧 블루투스 클래식 사용 사례

<p>✅ 무선 이어폰/헤드폰
   → 음악을 계속 스트리밍
   → 끊김 없는 높은 음질 필요</p>
<p>✅ 게임 컨트롤러
   → 빠른 반응 속도
   → 많은 버튼 입력 데이터</p>
<p>✅ 차량 핸즈프리
   → 통화 중 오디오 스트리밍
   → 높은 음질 필요</p>
<p>🔵 BLE 사용 사례</p>
<p>✅ 심박수 모니터
   → 1초마다 한 번만 전송
   → 배터리 오래 사용 중요</p>
<p>✅ 온도/습도 센서
   → 5분마다 한 번 전송
   → 작은 데이터 (2-4바이트)</p>
<p>✅ 스마트 도어락
   → 가끔만 문 열림
   → 배터리 교체 최소화</p>
<p>✅ 비콘 (Beacon)
   → 위치 알림만 전송
   → 동전 배터리로 수년 작동</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">23 lines</span>
  </div></p>
</div>

<h4>🧪 실제 전력 소비 비교</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6664" onclick="copyCode('code-1769481055219-6664')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6664" class="language-plaintext">📱 스마트폰 배터리 영향

<p>블루투스 클래식 (음악 스트리밍 4시간):
🔋🔋🔋🔋🔋🔋🔋🔋🔋🔋 (배터리 30% 소모)</p>
<p>BLE (온도 센서 모니터링 4시간):
🔋 (배터리 1% 소모)</p>
<p>차이: 30배!</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">6 lines</span>
  </div></p>
</div>

<hr>
<h3 id="센트럴과-프리퍼럴의-역할">센트럴과 프리퍼럴의 역할 {#센트럴과-프리퍼럴의-역할}</h3>
<h4>🤔 센트럴? 프리퍼럴? 뭔가요?</h4>
<p>BLE 통신에는 <strong>두 가지 역할</strong>이 있습니다:</p>
<p><strong>📱 센트럴 (Central)</strong> = 가게 손님</p>
<ul>
<li>데이터를 <strong>요청하고 받는</strong> 역할</li>
<li>보통 스마트폰이 센트럴</li>
<li>영어로 &quot;중심&quot;, &quot;중앙&quot;이라는 뜻</li>
</ul>
<p><strong>🤖 프리퍼럴 (Peripheral)</strong> = 가게 주인</p>
<ul>
<li>데이터를 <strong>제공하고 보내는</strong> 역할</li>
<li>보통 센서/IoT 기기가 프리퍼럴</li>
<li>영어로 &quot;주변 기기&quot;라는 뜻</li>
</ul>
<h4>🍕 비유: 피자 가게로 이해하기</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6665" onclick="copyCode('code-1769481055219-6665')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6665" class="language-plaintext">🏪 피자 가게 시나리오

<p>👤 손님 (센트럴 = 스마트폰)
   ↓
   &quot;여기 피자 가게 있나요?&quot; (스캔)
   ↓
   &quot;네, 여기 있어요!&quot; ← 👨‍🍳 주인 (프리퍼럴 = 아두이노)
   ↓
   &quot;페퍼로니 피자 주세요!&quot; (요청)
   ↓
   &quot;여기 있습니다!&quot; ← 👨‍🍳 (데이터 전송)</p>
<p>📝 역할 정리:</p>
<ul>
<li>손님 (센트럴): 주문하고 받는 사람</li>
<li>주인 (프리퍼럴): 메뉴 알려주고 피자 만들어 주는 사람</code></pre><div class="code-block__footer">
  <span class="code-block__lines">13 lines</span>
</div>
</div></li>
</ul>
<h4>🔄 실제 IoT 통신 예시</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6666" onclick="copyCode('code-1769481055219-6666')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6666" class="language-plaintext">🌡️ 온도 센서 시나리오

<p>📱 스마트폰 (센트럴)
   │
   │ 1️⃣ &quot;온도 센서 찾기&quot; (스캔 시작)
   ↓
🤖 아두이노 온도 센서 (프리퍼럴)
   │
   │ 2️⃣ &quot;저 여기 있어요!&quot; (광고 신호)
   ↓
📱 &quot;아, 발견했다! 연결 요청!&quot; (연결)
   ↓
🤖 &quot;연결 수락!&quot; (연결 완료)
   │
   │ 3️⃣ 데이터 교환 시작
   ↓
📱 &quot;현재 온도 알려줘&quot; (Read 요청)
   ↓
🤖 &quot;25.3°C 입니다&quot; (데이터 전송)
   ↓
📱 &quot;알림 받을게요&quot; (Notify 구독)
   ↓
🤖 &quot;온도 바뀌면 자동으로 알려드릴게요!&quot;</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">22 lines</span>
  </div></p>
</div>

<h4>🎭 역할별 상세 특징</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6667" onclick="copyCode('code-1769481055219-6667')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6667" class="language-plaintext">📱 센트럴 (Central) 특징

<ol>
<li><p>주도적 역할 (Boss)</p>
<ul>
<li>연결을 시작하는 쪽</li>
<li>&quot;연결해줘!&quot;, &quot;데이터 줘!&quot; 요청</li>
</ul>
</li>
<li><p>한 번에 여러 기기 연결 가능</p>
<ul>
<li>스마트폰 1대 → 센서 5개 동시 연결 ✅</li>
<li>예: 온도 센서 + 심박 센서 + LED 제어</li>
</ul>
</li>
<li><p>배터리 소모가 상대적으로 큼</p>
<ul>
<li>계속 스캔하고 데이터 요청</li>
<li>하지만 스마트폰은 배터리 크니까 괜찮음</li>
</ul>
</li>
<li><p>복잡한 처리 가능</p>
<ul>
<li>데이터 분석, UI 표시, 알림 등</li>
</ul>
</li>
</ol>
<p>🤖 프리퍼럴 (Peripheral) 특징</p>
<ol>
<li><p>수동적 역할 (Servant)</p>
<ul>
<li>연결을 기다리는 쪽</li>
<li>요청에 응답만 함</li>
</ul>
</li>
<li><p>보통 한 번에 1개 기기만 연결</p>
<ul>
<li>센서 1개 → 스마트폰 1대</li>
<li>(일부는 다중 연결 가능하지만 복잡함)</li>
</ul>
</li>
<li><p>배터리 절약 모드</p>
<ul>
<li>필요할 때만 데이터 보냄</li>
<li>BLE를 사용하는 이유!</li>
</ul>
</li>
<li><p>단순한 작업</p>
<ul>
<li>센서 읽기, LED 켜기 등 간단한 동작</code></pre><div class="code-block__footer">
 <span class="code-block__lines">24 lines</span>
</div>
</div></li>
</ul>
</li>
</ol>
<h4>💻 코드로 이해하는 역할</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6668" onclick="copyCode('code-1769481055219-6668')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6668" class="language-dart">// 📱 센트럴 (스마트폰) 역할 - Flutter 앱

<p>class CentralRole {
  // 1. 주변 기기 찾기
  void scanForDevices() {
    print(&quot;📡 주변에 블루투스 기기 있나요? 찾는 중...&quot;);
  }</p>
<p>  // 2. 기기에 연결 요청
  void connectToDevice(device) {
    print(&quot;🤝 &#39;$device&#39;에 연결 요청합니다!&quot;);
  }</p>
<p>  // 3. 데이터 요청
  void requestData() {
    print(&quot;📊 현재 온도 데이터 주세요!&quot;);
  }</p>
<p>  // 4. 명령 전송
  void sendCommand(command) {
    print(&quot;📤 명령 전송: $command&quot;);
  }
}</p>
<p>// 🤖 프리퍼럴 (센서) 역할 - 아두이노 (의사 코드)</p>
<p>class PeripheralRole {
  // 1. 자신을 알리기
  void advertise() {
    print(&quot;📢 저는 온도 센서입니다! 연결 가능해요!&quot;);
  }</p>
<p>  // 2. 연결 수락
  void acceptConnection() {
    print(&quot;✅ 연결 요청 수락했습니다!&quot;);
  }</p>
<p>  // 3. 요청받은 데이터 전송
  void sendData() {
    float temperature = readTemperatureSensor();
    print(&quot;📡 현재 온도: ${temperature}°C 전송합니다!&quot;);
  }</p>
<p>  // 4. 명령 실행
  void executeCommand(command) {
    if (command == &quot;LED_ON&quot;) {
      turnOnLED();
      print(&quot;💡 LED 켰습니다!&quot;);
    }
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">42 lines</span>
  </div></p>
</div>

<h4>🎯 역할 결정 기준</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6669" onclick="copyCode('code-1769481055219-6669')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6669" class="language-plaintext">내 기기가 센트럴일까? 프리퍼럴일까?

<p>질문 1: &quot;데이터를 달라고 요청하나요?&quot;
   YES → 센트럴 (스마트폰, 태블릿)
   NO  → 다음 질문으로</p>
<p>질문 2: &quot;데이터를 제공하나요?&quot;
   YES → 프리퍼럴 (센서, IoT 기기)
   NO  → 다음 질문으로</p>
<p>질문 3: &quot;배터리가 큰가요?&quot;
   YES → 센트럴이 적합
   NO  → 프리퍼럴이 적합</p>
<p>질문 4: &quot;여러 기기와 동시 연결이 필요한가요?&quot;
   YES → 센트럴
   NO  → 프리퍼럴</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">13 lines</span>
  </div></p>
</div>

<hr>
<h2 id="1단계-ble-통신의-4단계-원리">📡 1단계: BLE 통신의 4단계 원리 {#1단계-ble-통신의-4단계-원리}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="ble-통신은-어떻게-이루어질까">BLE 통신은 어떻게 이루어질까? {#ble-통신은-어떻게-이루어질까}</h3>
<p>BLE 통신은 <strong>4단계 과정</strong>을 거칩니다. 마치 친구 찾기 게임처럼요!</p>
<h4>🎮 게임으로 이해하는 4단계</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6670" onclick="copyCode('code-1769481055219-6670')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6670" class="language-plaintext">🎯 &quot;숨바꼭질 + 친구 만들기&quot; 게임

<p>1단계: 광고하기 (Advertising) 📢
   숨어있는 친구: &quot;저 여기 있어요~!&quot;</p>
<p>2단계: 찾기 (Scanning) 🔍
   술래: &quot;어디 있지? 찾는 중...&quot;</p>
<p>3단계: 연결하기 (Connection) 🤝
   술래: &quot;찾았다! 손잡자!&quot;
   친구: &quot;좋아! 손잡을게!&quot;</p>
<p>4단계: 놀기 (Data Exchange) 🎉
   이제 둘이 대화하고 놀기 시작!</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">10 lines</span>
  </div></p>
</div>

<h3 id="1단계-advertising-광고">📢 1단계: Advertising (광고) {#1단계-advertising-광고}</h3>
<h4>💡 광고란?</h4>
<p><strong>프리퍼럴(센서)이 &quot;나 여기 있어요!&quot; 하고 외치는 것</strong></p>
<p>비유: 가게 간판</p>
<ul>
<li>가게가 &quot;우리 가게 여기 있어요!&quot; 알리는 것</li>
<li>지나가는 사람(스마트폰)이 볼 수 있게</li>
</ul>
<h4>🔊 광고 신호의 내용</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6671" onclick="copyCode('code-1769481055219-6671')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6671" class="language-plaintext">📻 광고 패킷 예시

<p>{
  &quot;이름&quot;: &quot;온도센서_001&quot;,
  &quot;타입&quot;: &quot;온도 센서&quot;,
  &quot;배터리&quot;: &quot;80%&quot;,
  &quot;신호 세기&quot;: &quot;-65 dBm&quot; (가까우면 큰 숫자)
}</p>
<p>💡 실제로는 이런 정보를 무선 신호로 계속 보냄!
주기: 보통 100ms~1초마다 한 번씩</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">9 lines</span>
  </div></p>
</div>

<h4>🌱 초급 예제: 광고 신호 이해하기</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6672" onclick="copyCode('code-1769481055219-6672')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6672" class="language-dart">// 프리퍼럴이 광고하는 의사 코드 (아두이노)
void advertise() {
  while (true) {
    // 0.5초마다 한 번씩 광고 신호 보내기
    sendAdvertisingPacket({
      &#39;name&#39;: &#39;온도센서_001&#39;,
      &#39;type&#39;: &#39;temperature_sensor&#39;,
      &#39;uuid&#39;: &#39;0000181a-0000-1000-8000-00805f9b34fb&#39;
    });

<pre><code>delay(500); // 0.5초 대기

// 💡 계속 반복해서 &amp;quot;나 여기 있어요!&amp;quot; 외침
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">13 lines</span>
  </div></p>
</div>

<hr>
<h3 id="2단계-scanning-스캐닝">🔍 2단계: Scanning (스캐닝) {#2단계-scanning-스캐닝}</h3>
<h4>💡 스캐닝이란?</h4>
<p><strong>센트럴(스마트폰)이 주변 기기를 찾는 것</strong></p>
<p>비유: 상점가 둘러보기</p>
<ul>
<li>어떤 가게가 있는지 구경하기</li>
<li>원하는 가게 찾기</li>
</ul>
<h4>📡 스캔 과정</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6673" onclick="copyCode('code-1769481055219-6673')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6673" class="language-plaintext">📱 스마트폰의 스캔 과정

<ol>
<li><p>스캔 시작
&quot;주변에 블루투스 기기 있나요?&quot;</p>
</li>
<li><p>광고 신호 수신
📻 &quot;온도센서_001&quot; 발견!
📻 &quot;심박센서_A&quot; 발견!
📻 &quot;LED_컨트롤러&quot; 발견!</p>
</li>
<li><p>리스트 작성
┌─────────────────────┐
│ 발견된 기기 목록:   │
│ 1. 온도센서_001     │
│ 2. 심박센서_A       │
│ 3. LED_컨트롤러     │
└─────────────────────┘</p>
</li>
<li><p>사용자가 선택
&quot;온도센서_001 연결할래요!&quot;</code></pre></p>
  <div class="code-block__footer">
 <span class="code-block__lines">16 lines</span>
  </div>
</div></li>
</ol>
<h4>🌿 중급 예제: Flutter에서 스캔하기</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6674" onclick="copyCode('code-1769481055219-6674')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6674" class="language-dart">import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;

<p>class BLEScanner {
  List&lt;ScanResult&gt; scanResults = [];</p>
<p>  // 스캔 시작
  void startScan() async {
    print(&quot;📡 스캔 시작!&quot;);</p>
<pre><code>// 스캔 결과 리스너
FlutterBluePlus.scanResults.listen((results) {
  scanResults = results;

  // 발견된 기기 출력
  for (ScanResult result in results) {
    print(&amp;quot;✨ 발견: ${result.device.name}&amp;quot;);
    print(&amp;quot;   신호 세기: ${result.rssi} dBm&amp;quot;);
    print(&amp;quot;   MAC: ${result.device.id}&amp;quot;);
  }
});

// 5초 동안 스캔
await FlutterBluePlus.startScan(
  timeout: Duration(seconds: 5)
);

// 스캔 종료
await FlutterBluePlus.stopScan();
print(&amp;quot;🛑 스캔 종료!&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 특정 이름의 기기만 찾기
  void findDeviceByName(String targetName) async {
    print(&quot;🔍 &#39;$targetName&#39; 찾는 중...&quot;);</p>
<pre><code>FlutterBluePlus.scanResults.listen((results) {
  for (ScanResult result in results) {
    if (result.device.name == targetName) {
      print(&amp;quot;🎉 찾았다! $targetName&amp;quot;);
      // 스캔 중지하고 연결 시도
      FlutterBluePlus.stopScan();
      connectToDevice(result.device);
    }
  }
});

await FlutterBluePlus.startScan();
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">40 lines</span>
  </div></p>
</div>

<hr>
<h3 id="3단계-connection-연결">🤝 3단계: Connection (연결) {#3단계-connection-연결}</h3>
<h4>💡 연결이란?</h4>
<p><strong>센트럴과 프리퍼럴이 전용 통신선을 만드는 것</strong></p>
<p>비유: 전화 통화 연결</p>
<ul>
<li>전화번호 누르기 (연결 요청)</li>
<li>상대방이 받기 (연결 수락)</li>
<li>통화 시작 (데이터 교환 준비 완료)</li>
</ul>
<h4>🔗 연결 과정</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6675" onclick="copyCode('code-1769481055219-6675')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6675" class="language-plaintext">📱 연결 과정 상세

<p>1️⃣ 센트럴이 연결 요청
   스마트폰: &quot;온도센서_001님, 연결 요청합니다!&quot;</p>
<p>2️⃣ 프리퍼럴이 수락
   센서: &quot;네, 좋아요! 연결 수락합니다!&quot;</p>
<p>3️⃣ 파라미터 협상</p>
<ul>
<li>연결 간격: 얼마나 자주 데이터 주고받을지</li>
<li>타임아웃: 얼마나 기다릴지</li>
<li>보안 설정: 암호화 할지 말지</li>
</ul>
<p>4️⃣ 연결 완료!
   이제 두 기기는 &quot;연결 상태&quot; 🔗
   다른 기기는 연결 못함 (1:1 통신)</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">12 lines</span>
  </div></p>
</div>

<h4>🌿 중급 예제: Flutter에서 연결하기</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6676" onclick="copyCode('code-1769481055219-6676')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6676" class="language-dart">import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;

<p>class BLEConnector {
  BluetoothDevice? connectedDevice;</p>
<p>  // 기기에 연결
  Future&lt;void&gt; connectToDevice(BluetoothDevice device) async {
    try {
      print(&quot;🔗 연결 시도 중: ${device.name}&quot;);</p>
<pre><code>  // 연결 시작
  await device.connect(
    timeout: Duration(seconds: 15),
    autoConnect: false // 자동 재연결 여부
  );

  // 연결 상태 리스너
  device.state.listen((state) {
    if (state == BluetoothDeviceState.connected) {
      print(&amp;quot;✅ 연결 성공!&amp;quot;);
      connectedDevice = device;

      // 연결 후 서비스 검색
      discoverServices(device);
    } else if (state == BluetoothDeviceState.disconnected) {
      print(&amp;quot;❌ 연결 끊김!&amp;quot;);
      connectedDevice = null;
    }
  });

} catch (e) {
  print(&amp;quot;⚠️ 연결 실패: $e&amp;quot;);
}
</code></pre>
<p>  }</p>
<p>  // 연결 해제
  Future&lt;void&gt; disconnect() async {
    if (connectedDevice != null) {
      print(&quot;🔌 연결 해제 중...&quot;);
      await connectedDevice!.disconnect();
      connectedDevice = null;
      print(&quot;👋 연결 해제 완료!&quot;);
    }
  }</p>
<p>  // 연결 상태 확인
  Future&lt;bool&gt; isConnected() async {
    if (connectedDevice == null) return false;</p>
<pre><code>var state = await connectedDevice!.state.first;
return state == BluetoothDeviceState.connected;
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">44 lines</span>
  </div></p>
</div>

<hr>
<h3 id="4단계-data-exchange-데이터-교환">💬 4단계: Data Exchange (데이터 교환) {#4단계-data-exchange-데이터-교환}</h3>
<h4>💡 데이터 교환이란?</h4>
<p><strong>연결된 두 기기가 실제로 데이터를 주고받는 것</strong></p>
<p>비유: 전화 통화 중 대화</p>
<ul>
<li>질문하고 대답하기</li>
<li>정보 전달하기</li>
<li>명령 보내기</li>
</ul>
<h4>📊 데이터 교환 방향</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6677" onclick="copyCode('code-1769481055219-6677')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6677" class="language-plaintext">🔄 데이터 흐름

<p>센트럴 (스마트폰)  ←────────→  프리퍼럴 (센서)</p>
<p>읽기 (Read):
  &quot;온도 알려줘&quot; ──────→
                 ←────── &quot;25°C&quot;</p>
<p>쓰기 (Write):
  &quot;LED 켜줘&quot; ──────→
                 ←────── &quot;OK, 켰어&quot;</p>
<p>알림 (Notify):
  &quot;구독할게&quot; ──────→
                 ←────── &quot;28°C&quot; (자동)
                 ←────── &quot;29°C&quot; (자동)
                 ←────── &quot;30°C&quot; (자동)</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">13 lines</span>
  </div></p>
</div>

<h4>🌳 고급 예제: 실제 데이터 통신</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6678" onclick="copyCode('code-1769481055219-6678')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6678" class="language-dart">class BLEDataExchange {
  BluetoothDevice device;
  BluetoothCharacteristic? temperatureChar;

<p>  BLEDataExchange(this.device);</p>
<p>  // 서비스 및 캐릭터리스틱 검색
  Future&lt;void&gt; setupDataExchange() async {
    print(&quot;🔍 서비스 검색 중...&quot;);</p>
<pre><code>List&amp;lt;BluetoothService&amp;gt; services = await device.discoverServices();

for (BluetoothService service in services) {
  print(&amp;quot;📁 서비스: ${service.uuid}&amp;quot;);

  for (BluetoothCharacteristic char in service.characteristics) {
    print(&amp;quot;  📄 캐릭터리스틱: ${char.uuid}&amp;quot;);

    // 온도 캐릭터리스틱 찾기
    if (char.uuid.toString().contains(&amp;quot;2a6e&amp;quot;)) {
      temperatureChar = char;
      print(&amp;quot;  🌡️ 온도 캐릭터리스틱 발견!&amp;quot;);
    }
  }
}
</code></pre>
<p>  }</p>
<p>  // 1️⃣ Read: 데이터 읽기
  Future&lt;double?&gt; readTemperature() async {
    if (temperatureChar == null) {
      print(&quot;⚠️ 온도 캐릭터리스틱을 찾을 수 없음&quot;);
      return null;
    }</p>
<pre><code>try {
  print(&amp;quot;📖 온도 읽는 중...&amp;quot;);

  // 데이터 읽기
  List&amp;lt;int&amp;gt; value = await temperatureChar!.read();

  // 바이트를 온도로 변환 (예시)
  double temperature = value[0] + (value[1] / 100.0);

  print(&amp;quot;🌡️ 현재 온도: ${temperature}°C&amp;quot;);
  return temperature;

} catch (e) {
  print(&amp;quot;⚠️ 읽기 실패: $e&amp;quot;);
  return null;
}
</code></pre>
<p>  }</p>
<p>  // 2️⃣ Write: 데이터 쓰기
  Future&lt;void&gt; sendCommand(String command) async {
    if (temperatureChar == null) return;</p>
<pre><code>try {
  print(&amp;quot;📤 명령 전송: $command&amp;quot;);

  // 문자열을 바이트로 변환
  List&amp;lt;int&amp;gt; bytes = command.codeUnits;

  // 데이터 쓰기
  await temperatureChar!.write(bytes);

  print(&amp;quot;✅ 전송 완료!&amp;quot;);

} catch (e) {
  print(&amp;quot;⚠️ 전송 실패: $e&amp;quot;);
}
</code></pre>
<p>  }</p>
<p>  // 3️⃣ Notify: 실시간 알림 구독
  void subscribeToTemperature(Function(double) onDataReceived) async {
    if (temperatureChar == null) return;</p>
<pre><code>try {
  print(&amp;quot;📢 온도 알림 구독 시작&amp;quot;);

  // Notify 활성화
  await temperatureChar!.setNotifyValue(true);

  // 데이터 수신 리스너
  temperatureChar!.value.listen((value) {
    if (value.isNotEmpty) {
      // 바이트를 온도로 변환
      double temperature = value[0] + (value[1] / 100.0);

      print(&amp;quot;🔔 새로운 온도: ${temperature}°C&amp;quot;);

      // 콜백 함수 호출
      onDataReceived(temperature);
    }
  });

  print(&amp;quot;✅ 구독 완료! 이제 자동으로 알림 받음&amp;quot;);

} catch (e) {
  print(&amp;quot;⚠️ 구독 실패: $e&amp;quot;);
}
</code></pre>
<p>  }</p>
<p>  // 알림 구독 취소
  Future&lt;void&gt; unsubscribe() async {
    if (temperatureChar != null) {
      await temperatureChar!.setNotifyValue(false);
      print(&quot;🔕 구독 취소 완료&quot;);
    }
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">83 lines</span>
  </div></p>
</div>

<h3 id="4단계-요약-다이어그램">📊 4단계 요약 다이어그램 {#4단계-요약-다이어그램}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6679" onclick="copyCode('code-1769481055219-6679')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6679" class="language-plaintext">🔵 BLE 통신 4단계 완벽 정리

<p>┌─────────────────────────────────────────────────┐
│  1️⃣ Advertising (광고)                          │
│  프리퍼럴: &quot;나 여기 있어요!&quot; 📢                  │
│  ────────────────────────────────→              │
│                                                  │
│  2️⃣ Scanning (스캐닝)                           │
│              ←──────────────────────────────    │
│  센트럴: &quot;오, 발견했다!&quot; 🔍                      │
│                                                  │
│  3️⃣ Connection (연결)                           │
│  센트럴: &quot;연결 요청!&quot; ────────────→              │
│              ←──────────── 프리퍼럴: &quot;수락!&quot;    │
│  🤝 연결 완료!                                   │
│                                                  │
│  4️⃣ Data Exchange (데이터 교환)                 │
│  Read:    &quot;데이터 줘&quot; ────────→                 │
│              ←──────────── &quot;25°C&quot;               │
│                                                  │
│  Write:   &quot;LED ON&quot; ────────→                    │
│              ←──────────── &quot;OK&quot;                 │
│                                                  │
│  Notify:  &quot;구독&quot; ────────→                      │
│              ←──────────── &quot;26°C&quot; (자동)        │
│              ←──────────── &quot;27°C&quot; (자동)        │
└─────────────────────────────────────────────────┘</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">26 lines</span>
  </div></p>
</div>

<hr>
<h2 id="2단계-gatt-프로파일-이해하기">🏗️ 2단계: GATT 프로파일 이해하기 {#2단계-gatt-프로파일-이해하기}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="gatt란-무엇인가">GATT란 무엇인가? {#gatt란-무엇인가}</h3>
<h4>💡 GATT 정의</h4>
<p><strong>GATT (Generic Attribute Profile)</strong>
= BLE에서 데이터를 주고받을 때 사용하는 <strong>구조</strong> 또는 <strong>틀</strong></p>
<p>비유: 도서관의 책 분류 시스템</p>
<ul>
<li>책들을 체계적으로 정리</li>
<li>원하는 책을 쉽게 찾을 수 있음</li>
<li>모든 도서관이 같은 방식 사용</li>
</ul>
<h4>🗂️ 파일 시스템으로 이해하기</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6680" onclick="copyCode('code-1769481055219-6680')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6680" class="language-plaintext">💻 컴퓨터의 폴더 구조 vs 🔵 GATT 구조

<p>컴퓨터:                      GATT:
C:\                          기기 (Device)
├─ 문서\                     ├─ 서비스 1 (Service)
│  ├─ 학교\                  │  ├─ 캐릭터리스틱 A
│  │  ├─ 수학.docx           │  │  └─ 값: 25
│  │  └─ 영어.docx           │  └─ 캐릭터리스틱 B
│  └─ 집\                    │     └─ 값: &quot;ON&quot;
│     └─ 일기.txt             └─ 서비스 2 (Service)
└─ 사진\                        ├─ 캐릭터리스틱 C
   ├─ 여름.jpg                  └─ 캐릭터리스틱 D
   └─ 겨울.jpg</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">12 lines</span>
  </div></p>
</div>

<h3 id="gatt-구조의-3단계-계층">🏗️ GATT 구조의 3단계 계층 {#gatt-구조의-3단계-계층}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6681" onclick="copyCode('code-1769481055219-6681')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6681" class="language-plaintext">🔵 GATT 계층 구조

<p>1층: Device (기기)
     └─ 예: &quot;온도센서_001&quot;
         │
         ├─ 2층: Service (서비스) - 주제별 묶음
         │     └─ 예: &quot;온도 서비스&quot;
         │          │
         │          └─ 3층: Characteristic (캐릭터리스틱) - 실제 데이터
         │                ├─ &quot;현재 온도&quot; = 25.3°C
         │                ├─ &quot;최고 온도&quot; = 30.1°C
         │                └─ &quot;최저 온도&quot; = 18.5°C
         │
         └─ 2층: Service
               └─ 예: &quot;배터리 서비스&quot;
                    │
                    └─ 3층: Characteristic
                          └─ &quot;배터리 잔량&quot; = 85%</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">17 lines</span>
  </div></p>
</div>

<h3 id="service-서비스">📁 Service (서비스) {#service-서비스}</h3>
<h4>💡 서비스란?</h4>
<p><strong>관련된 데이터들의 묶음 (폴더)</strong></p>
<p>비유: 백화점의 층</p>
<ul>
<li>1층: 화장품 (화장품 서비스)</li>
<li>2층: 의류 (의류 서비스)</li>
<li>3층: 식품 (식품 서비스)</li>
</ul>
<h4>🎯 서비스 예시</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6682" onclick="copyCode('code-1769481055219-6682')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6682" class="language-plaintext">🏥 헬스케어 기기의 서비스들

<p>서비스 1: 심박수 서비스 (Heart Rate Service)
   UUID: 0x180D
   용도: 심장 박동 관련 데이터</p>
<p>서비스 2: 배터리 서비스 (Battery Service)
   UUID: 0x180F
   용도: 배터리 정보</p>
<p>서비스 3: 기기 정보 서비스 (Device Information)
   UUID: 0x180A
   용도: 제조사, 모델명 등</p>
<p>💡 UUID란?
= 각 서비스를 구별하는 고유 번호
= 마치 주민등록번호처럼!</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">13 lines</span>
  </div></p>
</div>

<h3 id="characteristic-캐릭터리스틱">📄 Characteristic (캐릭터리스틱) {#characteristic-캐릭터리스틱}</h3>
<h4>💡 캐릭터리스틱이란?</h4>
<p><strong>실제 데이터가 저장된 곳 (파일)</strong></p>
<p>비유: 서랍 안의 물건</p>
<ul>
<li>서랍(서비스) 안에 물건(캐릭터리스틱)이 있음</li>
<li>물건마다 이름과 내용이 다름</li>
</ul>
<h4>📊 캐릭터리스틱 구조</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6683" onclick="copyCode('code-1769481055219-6683')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6683" class="language-plaintext">📄 캐릭터리스틱의 구성 요소

<p>┌──────────────────────────────────────┐
│  캐릭터리스틱: &quot;현재 온도&quot;           │
├──────────────────────────────────────┤
│  UUID: 0x2A6E                         │
│  속성: Read, Notify                   │
│  값: 25.3 (°C)                        │
│  길이: 2 바이트                       │
└──────────────────────────────────────┘</p>
<p>구성 요소 설명:</p>
<ol>
<li>UUID: 고유 번호 (캐릭터리스틱 식별자)</li>
<li>속성: 무엇을 할 수 있는지 (Read/Write/Notify)</li>
<li>값: 실제 데이터 (온도, 상태 등)</li>
<li>길이: 데이터 크기 (바이트 단위)</code></pre>  <div class="code-block__footer">
 <span class="code-block__lines">14 lines</span>
  </div>
</div></li>
</ol>
<h3 id="초급-예제-온도-센서의-gatt-구조">🌱 초급 예제: 온도 센서의 GATT 구조 {#초급-예제-온도-센서의-gatt-구조}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6684" onclick="copyCode('code-1769481055219-6684')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6684" class="language-plaintext">🌡️ 온도 센서 기기의 GATT 구조

<p>기기: &quot;스마트 온도 센서 v1.0&quot;
│
├─ 📁 서비스 1: 온도 서비스
│  │  UUID: 1234-0000-1000-8000-00805f9b34fb
│  │
│  ├─ 📄 캐릭터리스틱: 현재 온도
│  │     UUID: 1234-0001-1000-8000-00805f9b34fb
│  │     속성: Read, Notify
│  │     값: 25.3°C
│  │
│  ├─ 📄 캐릭터리스틱: 최고 온도
│  │     UUID: 1234-0002-1000-8000-00805f9b34fb
│  │     속성: Read
│  │     값: 32.1°C
│  │
│  └─ 📄 캐릭터리스틱: 최저 온도
│        UUID: 1234-0003-1000-8000-00805f9b34fb
│        속성: Read
│        값: 15.8°C
│
├─ 📁 서비스 2: LED 제어 서비스
│  │  UUID: 5678-0000-1000-8000-00805f9b34fb
│  │
│  ├─ 📄 캐릭터리스틱: LED 상태
│  │     UUID: 5678-0001-1000-8000-00805f9b34fb
│  │     속성: Read, Write
│  │     값: &quot;ON&quot; / &quot;OFF&quot;
│  │
│  └─ 📄 캐릭터리스틱: LED 밝기
│        UUID: 5678-0002-1000-8000-00805f9b34fb
│        속성: Read, Write
│        값: 0~255
│
└─ 📁 서비스 3: 배터리 서비스
   │  UUID: 0x180F (표준 UUID)
   │
   └─ 📄 캐릭터리스틱: 배터리 잔량
         UUID: 0x2A19 (표준 UUID)
         속성: Read, Notify
         값: 85%</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">41 lines</span>
  </div></p>
</div>

<h3 id="중급-예제-flutter에서-gatt-탐색하기">🌿 중급 예제: Flutter에서 GATT 탐색하기 {#중급-예제-flutter에서-gatt-탐색하기}</h3>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6685" onclick="copyCode('code-1769481055219-6685')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6685" class="language-dart">class GATTExplorer {
  BluetoothDevice device;

<p>  GATTExplorer(this.device);</p>
<p>  // 모든 서비스와 캐릭터리스틱 탐색
  Future&lt;void&gt; exploreAllServices() async {
    print(&quot;🔍 GATT 구조 탐색 시작!\n&quot;);</p>
<pre><code>// 서비스 검색
List&amp;lt;BluetoothService&amp;gt; services = await device.discoverServices();

print(&amp;quot;📱 기기: ${device.name}&amp;quot;);
print(&amp;quot;발견된 서비스 수: ${services.length}\n&amp;quot;);

// 각 서비스 탐색
for (int i = 0; i &amp;lt; services.length; i++) {
  BluetoothService service = services[i];

  print(&amp;quot;├─ 📁 서비스 ${i + 1}&amp;quot;);
  print(&amp;quot;│  UUID: ${service.uuid}&amp;quot;);
  print(&amp;quot;│  종류: ${getServiceName(service.uuid)}&amp;quot;);
  print(&amp;quot;│  캐릭터리스틱 수: ${service.characteristics.length}&amp;quot;);
  print(&amp;quot;│&amp;quot;);

  // 각 캐릭터리스틱 탐색
  for (int j = 0; j &amp;lt; service.characteristics.length; j++) {
    BluetoothCharacteristic char = service.characteristics[j];

    print(&amp;quot;│  ├─ 📄 캐릭터리스틱 ${j + 1}&amp;quot;);
    print(&amp;quot;│  │  UUID: ${char.uuid}&amp;quot;);
    print(&amp;quot;│  │  속성: ${getProperties(char)}&amp;quot;);

    // Read 가능하면 값 읽기
    if (char.properties.read) {
      try {
        List&amp;lt;int&amp;gt; value = await char.read();
        print(&amp;quot;│  │  현재 값: $value&amp;quot;);
      } catch (e) {
        print(&amp;quot;│  │  (읽기 실패)&amp;quot;);
      }
    }

    print(&amp;quot;│  │&amp;quot;);
  }

  print(&amp;quot;&amp;quot;);
}

print(&amp;quot;✅ 탐색 완료!\n&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 서비스 이름 반환 (알려진 표준 UUID)
  String getServiceName(Guid uuid) {
    Map&lt;String, String&gt; standardServices = {
      &#39;0000180f&#39;: &#39;배터리 서비스&#39;,
      &#39;0000180a&#39;: &#39;기기 정보 서비스&#39;,
      &#39;0000180d&#39;: &#39;심박수 서비스&#39;,
      &#39;00001805&#39;: &#39;현재 시간 서비스&#39;,
      &#39;0000181a&#39;: &#39;환경 센서 서비스&#39;,
    };</p>
<pre><code>String uuidStr = uuid.toString().substring(4, 12);
return standardServices[uuidStr] ?? &amp;#39;사용자 정의 서비스&amp;#39;;
</code></pre>
<p>  }</p>
<p>  // 캐릭터리스틱 속성 문자열 생성
  String getProperties(BluetoothCharacteristic char) {
    List&lt;String&gt; props = [];</p>
<pre><code>if (char.properties.read) props.add(&amp;#39;Read&amp;#39;);
if (char.properties.write) props.add(&amp;#39;Write&amp;#39;);
if (char.properties.writeWithoutResponse) props.add(&amp;#39;Write(NoResp)&amp;#39;);
if (char.properties.notify) props.add(&amp;#39;Notify&amp;#39;);
if (char.properties.indicate) props.add(&amp;#39;Indicate&amp;#39;);

return props.join(&amp;#39;, &amp;#39;);
</code></pre>
<p>  }</p>
<p>  // 특정 서비스의 특정 캐릭터리스틱 찾기
  Future&lt;BluetoothCharacteristic?&gt; findCharacteristic(
    String serviceUuid,
    String charUuid
  ) async {
    List&lt;BluetoothService&gt; services = await device.discoverServices();</p>
<pre><code>for (BluetoothService service in services) {
  if (service.uuid.toString().contains(serviceUuid)) {
    for (BluetoothCharacteristic char in service.characteristics) {
      if (char.uuid.toString().contains(charUuid)) {
        print(&amp;quot;✅ 찾았다! 캐릭터리스틱: ${char.uuid}&amp;quot;);
        return char;
      }
    }
  }
}

print(&amp;quot;❌ 찾을 수 없음: Service $serviceUuid, Char $charUuid&amp;quot;);
return null;
</code></pre>
<p>  }
}</p>
<p>// 사용 예시
void main() async {
  // 기기에 연결되어 있다고 가정
  BluetoothDevice device = connectedDevice;</p>
<p>  GATTExplorer explorer = GATTExplorer(device);</p>
<p>  // 전체 구조 탐색
  await explorer.exploreAllServices();</p>
<p>  // 특정 캐릭터리스틱 찾기
  BluetoothCharacteristic? tempChar =
    await explorer.findCharacteristic(&quot;181a&quot;, &quot;2a6e&quot;);</p>
<p>  if (tempChar != null) {
    // 온도 읽기
    List&lt;int&gt; value = await tempChar.read();
    print(&quot;🌡️ 온도: ${value[0]}°C&quot;);
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">97 lines</span>
  </div></p>
</div>

<h3 id="고급-예제-커스텀-gatt-프로파일-설계">🌳 고급 예제: 커스텀 GATT 프로파일 설계 {#고급-예제-커스텀-gatt-프로파일-설계}</h3>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6686" onclick="copyCode('code-1769481055219-6686')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6686" class="language-dart">// 자신만의 IoT 기기를 위한 GATT 프로파일 설계

<p>class CustomGATTProfile {
  // 서비스 UUID 정의
  static const String SMART_HOME_SERVICE =
    &quot;12340000-1000-8000-00805f9b34fb&quot;;</p>
<p>  // 캐릭터리스틱 UUID들
  static const String TEMPERATURE_CHAR =
    &quot;12340001-1000-8000-00805f9b34fb&quot;;
  static const String HUMIDITY_CHAR =
    &quot;12340002-1000-8000-00805f9b34fb&quot;;
  static const String LED_CONTROL_CHAR =
    &quot;12340003-1000-8000-00805f9b34fb&quot;;
  static const String ALARM_CHAR =
    &quot;12340004-1000-8000-00805f9b34fb&quot;;</p>
<p>  BluetoothDevice device;</p>
<p>  // 각 캐릭터리스틱 저장
  BluetoothCharacteristic? tempChar;
  BluetoothCharacteristic? humidityChar;
  BluetoothCharacteristic? ledChar;
  BluetoothCharacteristic? alarmChar;</p>
<p>  CustomGATTProfile(this.device);</p>
<p>  // 초기화: 모든 캐릭터리스틱 찾기
  Future&lt;void&gt; initialize() async {
    print(&quot;🔧 GATT 프로파일 초기화 중...&quot;);</p>
<pre><code>List&amp;lt;BluetoothService&amp;gt; services = await device.discoverServices();

for (BluetoothService service in services) {
  if (service.uuid.toString().contains(&amp;quot;12340000&amp;quot;)) {
    print(&amp;quot;✅ 스마트홈 서비스 발견!&amp;quot;);

    for (BluetoothCharacteristic char in service.characteristics) {
      String uuid = char.uuid.toString();

      if (uuid.contains(&amp;quot;12340001&amp;quot;)) {
        tempChar = char;
        print(&amp;quot;  🌡️ 온도 캐릭터리스틱 설정&amp;quot;);
      } else if (uuid.contains(&amp;quot;12340002&amp;quot;)) {
        humidityChar = char;
        print(&amp;quot;  💧 습도 캐릭터리스틱 설정&amp;quot;);
      } else if (uuid.contains(&amp;quot;12340003&amp;quot;)) {
        ledChar = char;
        print(&amp;quot;  💡 LED 캐릭터리스틱 설정&amp;quot;);
      } else if (uuid.contains(&amp;quot;12340004&amp;quot;)) {
        alarmChar = char;
        print(&amp;quot;  🔔 알람 캐릭터리스틱 설정&amp;quot;);
      }
    }
  }
}

print(&amp;quot;✅ 초기화 완료!\n&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 온도 읽기 (Read)
  Future&lt;double?&gt; getTemperature() async {
    if (tempChar == null) return null;</p>
<pre><code>try {
  List&amp;lt;int&amp;gt; value = await tempChar!.read();
  double temp = value[0] + (value[1] / 100.0);
  return temp;
} catch (e) {
  print(&amp;quot;❌ 온도 읽기 실패: $e&amp;quot;);
  return null;
}
</code></pre>
<p>  }</p>
<p>  // 습도 읽기 (Read)
  Future&lt;int?&gt; getHumidity() async {
    if (humidityChar == null) return null;</p>
<pre><code>try {
  List&amp;lt;int&amp;gt; value = await humidityChar!.read();
  return value[0]; // 0-100%
} catch (e) {
  print(&amp;quot;❌ 습도 읽기 실패: $e&amp;quot;);
  return null;
}
</code></pre>
<p>  }</p>
<p>  // LED 제어 (Write)
  Future&lt;bool&gt; setLED(bool on) async {
    if (ledChar == null) return false;</p>
<pre><code>try {
  List&amp;lt;int&amp;gt; command = [on ? 1 : 0];
  await ledChar!.write(command);
  print(&amp;quot;💡 LED ${on ? &amp;#39;ON&amp;#39; : &amp;#39;OFF&amp;#39;}&amp;quot;);
  return true;
} catch (e) {
  print(&amp;quot;❌ LED 제어 실패: $e&amp;quot;);
  return false;
}
</code></pre>
<p>  }</p>
<p>  // 실시간 온도 모니터링 (Notify)
  void monitorTemperature(Function(double) callback) async {
    if (tempChar == null) return;</p>
<pre><code>await tempChar!.setNotifyValue(true);

tempChar!.value.listen((value) {
  if (value.isNotEmpty) {
    double temp = value[0] + (value[1] / 100.0);
    callback(temp);
  }
});

print(&amp;quot;📢 온도 실시간 모니터링 시작!&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 알람 설정 (Write)
  Future&lt;void&gt; setAlarm(int temperature) async {
    if (alarmChar == null) return;</p>
<pre><code>try {
  List&amp;lt;int&amp;gt; data = [temperature];
  await alarmChar!.write(data);
  print(&amp;quot;🔔 알람 설정: ${temperature}°C 이상이면 알림&amp;quot;);
} catch (e) {
  print(&amp;quot;❌ 알람 설정 실패: $e&amp;quot;);
}
</code></pre>
<p>  }
}</p>
<p>// 사용 예시
void main() async {
  BluetoothDevice device = connectedDevice;</p>
<p>  // 커스텀 프로파일 생성
  CustomGATTProfile profile = CustomGATTProfile(device);
  await profile.initialize();</p>
<p>  // 온도 읽기
  double? temp = await profile.getTemperature();
  print(&quot;현재 온도: $temp°C&quot;);</p>
<p>  // LED 켜기
  await profile.setLED(true);</p>
<p>  // 실시간 온도 모니터링
  profile.monitorTemperature((temp) {
    print(&quot;🌡️ 실시간 온도: $temp°C&quot;);</p>
<pre><code>if (temp &amp;gt; 30) {
  print(&amp;quot;⚠️ 온도가 너무 높습니다!&amp;quot;);
}
</code></pre>
<p>  });</p>
<p>  // 알람 설정
  await profile.setAlarm(35); // 35°C 이상이면 알림
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">129 lines</span>
  </div></p>
</div>

<hr>
<h2 id="3단계-캐릭터리스틱의-3가지-기능">⚙️ 3단계: 캐릭터리스틱의 3가지 기능 {#3단계-캐릭터리스틱의-3가지-기능}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<p>캐릭터리스틱은 <strong>Read, Write, Notify</strong> 세 가지 핵심 기능을 가집니다.</p>
<h3 id="read-읽기">📖 Read (읽기) {#read-읽기}</h3>
<h4>💡 Read란?</h4>
<p><strong>센트럴이 프리퍼럴에게 &quot;데이터 좀 줘!&quot;라고 요청하는 것</strong></p>
<p>비유: 은행 잔액 조회</p>
<ul>
<li>ATM기에서 &quot;잔액 보여주세요&quot; 버튼 누르기</li>
<li>은행이 현재 잔액 알려주기</li>
<li>필요할 때마다 요청</li>
</ul>
<h4>🔄 Read 작동 원리</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6687" onclick="copyCode('code-1769481055219-6687')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6687" class="language-plaintext">📖 Read 프로세스

<ol>
<li><p>센트럴 → 프리퍼럴
&quot;현재 온도 알려줘!&quot; (Read 요청)</p>
</li>
<li><p>프리퍼럴이 센서 읽기
센서 확인... 25.3°C</p>
</li>
<li><p>프리퍼럴 → 센트럴
&quot;25.3°C입니다!&quot; (응답)</p>
</li>
<li><p>센트럴이 데이터 처리
화면에 &quot;25.3°C&quot; 표시</code></pre></p>
  <div class="code-block__footer">
 <span class="code-block__lines">9 lines</span>
  </div>
</div></li>
</ol>
<h4>🌱 초급 예제: Read 기능</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6688" onclick="copyCode('code-1769481055219-6688')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6688" class="language-dart">class ReadExample {
  BluetoothCharacteristic characteristic;

<p>  ReadExample(this.characteristic);</p>
<p>  // 간단한 Read
  Future&lt;void&gt; simpleRead() async {
    print(&quot;📖 데이터 읽기 시작...&quot;);</p>
<pre><code>// Read 요청
List&amp;lt;int&amp;gt; value = await characteristic.read();

print(&amp;quot;받은 데이터: $value&amp;quot;);
print(&amp;quot;첫 번째 바이트: ${value[0]}&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 온도 Read (2바이트)
  Future&lt;double&gt; readTemperature() async {
    List&lt;int&gt; value = await characteristic.read();</p>
<pre><code>// 바이트 배열을 온도로 변환
// value[0]: 정수 부분
// value[1]: 소수 부분
double temperature = value[0] + (value[1] / 100.0);

print(&amp;quot;🌡️ 온도: ${temperature}°C&amp;quot;);
return temperature;
</code></pre>
<p>  }</p>
<p>  // 문자열 Read
  Future&lt;String&gt; readString() async {
    List&lt;int&gt; value = await characteristic.read();</p>
<pre><code>// 바이트를 문자열로 변환
String text = String.fromCharCodes(value);

print(&amp;quot;💬 받은 메시지: $text&amp;quot;);
return text;
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">30 lines</span>
  </div></p>
</div>

<hr>
<h3 id="write-쓰기">✏️ Write (쓰기) {#write-쓰기}</h3>
<h4>💡 Write란?</h4>
<p><strong>센트럴이 프리퍼럴에게 &quot;이거 해줘!&quot;라고 명령하는 것</strong></p>
<p>비유: 리모컨으로 TV 제어</p>
<ul>
<li>채널 버튼 누르기 (Write 요청)</li>
<li>TV가 채널 변경 (명령 실행)</li>
<li>즉시 반영</li>
</ul>
<h4>🔄 Write 작동 원리</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6689" onclick="copyCode('code-1769481055219-6689')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6689" class="language-plaintext">✏️ Write 프로세스

<ol>
<li><p>센트럴 → 프리퍼럴
&quot;LED 켜줘!&quot; (Write 요청)</p>
</li>
<li><p>프리퍼럴이 명령 실행
LED 핀에 HIGH 신호 전송</p>
</li>
<li><p>프리퍼럴 → 센트럴
&quot;OK, 켰습니다!&quot; (확인)</p>
</li>
<li><p>센트럴이 UI 업데이트
버튼 색상을 &quot;켜짐&quot;으로 변경</code></pre></p>
  <div class="code-block__footer">
 <span class="code-block__lines">9 lines</span>
  </div>
</div></li>
</ol>
<h4>🌿 중급 예제: Write 기능</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6690" onclick="copyCode('code-1769481055219-6690')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6690" class="language-dart">class WriteExample {
  BluetoothCharacteristic characteristic;

<p>  WriteExample(this.characteristic);</p>
<p>  // LED 제어 (1바이트)
  Future&lt;void&gt; controlLED(bool on) async {
    print(&quot;💡 LED ${on ? &#39;ON&#39; : &#39;OFF&#39;} 명령 전송...&quot;);</p>
<pre><code>// 명령 데이터 준비
List&amp;lt;int&amp;gt; command = [on ? 1 : 0];

// Write 요청
await characteristic.write(command);

print(&amp;quot;✅ 명령 전송 완료!&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 밝기 제어 (0-255)
  Future&lt;void&gt; setBrightness(int brightness) async {
    // 범위 검사
    if (brightness &lt; 0 || brightness &gt; 255) {
      print(&quot;⚠️ 밝기는 0-255 사이여야 합니다!&quot;);
      return;
    }</p>
<pre><code>print(&amp;quot;🔆 밝기 설정: $brightness&amp;quot;);

List&amp;lt;int&amp;gt; command = [brightness];
await characteristic.write(command);
</code></pre>
<p>  }</p>
<p>  // 문자열 전송
  Future&lt;void&gt; sendText(String text) async {
    print(&quot;💬 메시지 전송: $text&quot;);</p>
<pre><code>// 문자열을 바이트로 변환
List&amp;lt;int&amp;gt; bytes = text.codeUnits;

// 최대 20바이트 제한 (BLE 패킷 크기)
if (bytes.length &amp;gt; 20) {
  print(&amp;quot;⚠️ 메시지가 너무 깁니다! 20자 이하로 줄이세요.&amp;quot;);
  bytes = bytes.sublist(0, 20);
}

await characteristic.write(bytes);
print(&amp;quot;✅ 전송 완료!&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // RGB LED 제어 (3바이트)
  Future&lt;void&gt; setRGBColor(int red, int green, int blue) async {
    print(&quot;🎨 색상 설정: R=$red, G=$green, B=$blue&quot;);</p>
<pre><code>List&amp;lt;int&amp;gt; rgb = [red, green, blue];
await characteristic.write(rgb);
</code></pre>
<p>  }</p>
<p>  // 응답 필요 없는 Write (빠름)
  Future&lt;void&gt; writeWithoutResponse(List&lt;int&gt; data) async {
    await characteristic.write(
      data,
      withoutResponse: true // 응답 기다리지 않음
    );
  }
}</p>
<p>// 사용 예시
void main() async {
  WriteExample writer = WriteExample(ledCharacteristic);</p>
<p>  // LED 켜기
  await writer.controlLED(true);</p>
<p>  // 밝기 조절
  await writer.setBrightness(128); // 50% 밝기</p>
<p>  // RGB LED로 빨간색 설정
  await writer.setRGBColor(255, 0, 0);</p>
<p>  // 메시지 전송
  await writer.sendText(&quot;Hello IoT!&quot;);
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">62 lines</span>
  </div></p>
</div>

<hr>
<h3 id="notify-알림">🔔 Notify (알림) {#notify-알림}</h3>
<h4>💡 Notify란?</h4>
<p><strong>프리퍼럴이 변화가 있을 때 자동으로 센트럴에게 알려주는 것</strong></p>
<p>비유: 스마트폰 알림</p>
<ul>
<li>새 메시지 오면 자동 알림</li>
<li>일일이 확인할 필요 없음</li>
<li>실시간 업데이트</li>
</ul>
<h4>🔄 Notify 작동 원리</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6691" onclick="copyCode('code-1769481055219-6691')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6691" class="language-plaintext">🔔 Notify 프로세스

<ol>
<li><p>센트럴 → 프리퍼럴
&quot;온도 변화 알림 구독할게요!&quot; (Notify 활성화)</p>
</li>
<li><p>프리퍼럴이 구독 수락
&quot;네, 알겠습니다!&quot;</p>
</li>
<li><p>온도가 변할 때마다 자동 전송
25°C → 센트럴에 자동 전송
26°C → 센트럴에 자동 전송
27°C → 센트럴에 자동 전송</p>
</li>
<li><p>센트럴이 실시간 업데이트
화면에 자동으로 새 온도 표시</code></pre></p>
  <div class="code-block__footer">
 <span class="code-block__lines">11 lines</span>
  </div>
</div></li>
</ol>
<h4>📊 Read vs Notify 비교</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6692" onclick="copyCode('code-1769481055219-6692')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6692" class="language-plaintext">🆚 언제 Read? 언제 Notify?

<p>📖 Read 사용 시기:
✅ 가끔 확인하면 됨
   예: 버튼 눌렀을 때 한 번 확인</p>
<p>✅ 데이터가 자주 안 바뀜
   예: 기기 이름, 펌웨어 버전</p>
<p>❌ 실시간 모니터링 필요 없음</p>
<p>🔔 Notify 사용 시기:
✅ 실시간 모니터링 필요
   예: 심박수, 온도 변화</p>
<p>✅ 데이터가 자주 바뀜
   예: 센서 값, 상태 변화</p>
<p>✅ 놓치면 안 되는 데이터
   예: 알람, 경고 메시지</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">14 lines</span>
  </div></p>
</div>

<h4>🌳 고급 예제: Notify 구독 및 처리</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6693" onclick="copyCode('code-1769481055219-6693')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6693" class="language-dart">class NotifyExample {
  BluetoothCharacteristic characteristic;
  StreamSubscription? subscription;

<p>  NotifyExample(this.characteristic);</p>
<p>  // 기본 Notify 구독
  Future&lt;void&gt; subscribeToNotifications() async {
    print(&quot;🔔 알림 구독 시작...&quot;);</p>
<pre><code>// Notify 활성화
await characteristic.setNotifyValue(true);

// 데이터 수신 리스너
characteristic.value.listen((value) {
  print(&amp;quot;📩 새 데이터 수신: $value&amp;quot;);
});

print(&amp;quot;✅ 구독 완료!&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 온도 실시간 모니터링
  void monitorTemperature({
    required Function(double) onTemperatureChanged,
    double? alertThreshold,
  }) async {
    print(&quot;🌡️ 온도 모니터링 시작...&quot;);</p>
<pre><code>await characteristic.setNotifyValue(true);

characteristic.value.listen((value) {
  if (value.isEmpty) return;

  // 바이트를 온도로 변환
  double temperature = value[0] + (value[1] / 100.0);

  print(&amp;quot;📊 현재 온도: ${temperature}°C&amp;quot;);

  // 콜백 호출
  onTemperatureChanged(temperature);

  // 임계값 확인
  if (alertThreshold != null &amp;amp;&amp;amp; temperature &amp;gt; alertThreshold) {
    print(&amp;quot;⚠️ 경고! 온도가 ${alertThreshold}°C를 초과했습니다!&amp;quot;);
  }
});
</code></pre>
<p>  }</p>
<p>  // 심박수 모니터링
  void monitorHeartRate(Function(int) onHeartRateChanged) async {
    print(&quot;❤️ 심박수 모니터링 시작...&quot;);</p>
<pre><code>await characteristic.setNotifyValue(true);

characteristic.value.listen((value) {
  if (value.isEmpty) return;

  int heartRate = value[1]; // 두 번째 바이트가 심박수

  print(&amp;quot;💓 현재 심박수: $heartRate bpm&amp;quot;);
  onHeartRateChanged(heartRate);

  // 이상 심박수 감지
  if (heartRate &amp;gt; 100) {
    print(&amp;quot;⚠️ 심박수가 높습니다! ($heartRate bpm)&amp;quot;);
  } else if (heartRate &amp;lt; 60) {
    print(&amp;quot;⚠️ 심박수가 낮습니다! ($heartRate bpm)&amp;quot;);
  }
});
</code></pre>
<p>  }</p>
<p>  // 구독 취소
  Future&lt;void&gt; unsubscribe() async {
    print(&quot;🔕 알림 구독 취소...&quot;);</p>
<pre><code>await characteristic.setNotifyValue(false);
subscription?.cancel();

print(&amp;quot;✅ 구독 취소 완료!&amp;quot;);
</code></pre>
<p>  }</p>
<p>  // 데이터 버퍼링 (여러 개 모았다가 처리)
  void bufferNotifications({
    required int bufferSize,
    required Function(List&lt;double&gt;) onBufferFull,
  }) async {
    List&lt;double&gt; buffer = [];</p>
<pre><code>await characteristic.setNotifyValue(true);

characteristic.value.listen((value) {
  if (value.isEmpty) return;

  double temperature = value[0] + (value[1] / 100.0);
  buffer.add(temperature);

  print(&amp;quot;📦 버퍼: ${buffer.length}/$bufferSize&amp;quot;);

  // 버퍼가 가득 찼을 때
  if (buffer.length &amp;gt;= bufferSize) {
    print(&amp;quot;📊 버퍼 처리 중...&amp;quot;);

    // 평균 계산
    double average = buffer.reduce((a, b) =&amp;gt; a + b) / buffer.length;
    print(&amp;quot;평균 온도: ${average.toStringAsFixed(2)}°C&amp;quot;);

    // 콜백 호출
    onBufferFull(List.from(buffer));

    // 버퍼 초기화
    buffer.clear();
  }
});
</code></pre>
<p>  }
}</p>
<p>// 실전 사용 예시
void main() async {
  NotifyExample notifier = NotifyExample(tempCharacteristic);</p>
<p>  // 예시 1: 기본 온도 모니터링
  notifier.monitorTemperature(
    onTemperatureChanged: (temp) {
      print(&quot;🌡️ 온도 업데이트: $temp°C&quot;);
    },
    alertThreshold: 30.0, // 30°C 이상이면 경고
  );</p>
<p>  // 예시 2: 심박수 모니터링
  NotifyExample hrNotifier = NotifyExample(heartRateChar);
  hrNotifier.monitorHeartRate((hr) {
    print(&quot;❤️ 심박수: $hr bpm&quot;);
  });</p>
<p>  // 예시 3: 데이터 버퍼링
  notifier.bufferNotifications(
    bufferSize: 10, // 10개 모이면 처리
    onBufferFull: (data) {
      print(&quot;📊 수집된 데이터: $data&quot;);
      // 통계 분석, 그래프 그리기 등
    },
  );</p>
<p>  // 5분 후 구독 취소
  await Future.delayed(Duration(minutes: 5));
  await notifier.unsubscribe();
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">112 lines</span>
  </div></p>
</div>

<h3 id="readwritenotify-완벽-비교표">📊 Read/Write/Notify 완벽 비교표 {#readwritenotify-완벽-비교표}</h3>
<table>
<thead>
<tr>
<th>기능</th>
<th>Read</th>
<th>Write</th>
<th>Notify</th>
</tr>
</thead>
<tbody><tr>
<td><strong>방향</strong></td>
<td>프리퍼럴 → 센트럴</td>
<td>센트럴 → 프리퍼럴</td>
<td>프리퍼럴 → 센트럴 (자동)</td>
</tr>
<tr>
<td><strong>요청</strong></td>
<td>센트럴이 요청</td>
<td>센트럴이 전송</td>
<td>프리퍼럴이 자동 전송</td>
</tr>
<tr>
<td><strong>빈도</strong></td>
<td>필요할 때만</td>
<td>필요할 때만</td>
<td>변화 있을 때마다</td>
</tr>
<tr>
<td><strong>실시간성</strong></td>
<td>❌ 낮음</td>
<td>⚡ 즉시</td>
<td>⚡⚡⚡ 실시간</td>
</tr>
<tr>
<td><strong>전력 소모</strong></td>
<td>🔋 보통</td>
<td>🔋 보통</td>
<td>🔋🔋 높음 (자주 전송)</td>
</tr>
<tr>
<td><strong>용도</strong></td>
<td>조회</td>
<td>제어</td>
<td>모니터링</td>
</tr>
</tbody></table>
<hr>
<h2 id="4단계-flutter-프로젝트-설정하기">🔧 4단계: Flutter 프로젝트 설정하기 {#4단계-flutter-프로젝트-설정하기}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="flutter-프로젝트-생성">Flutter 프로젝트 생성 {#flutter-프로젝트-생성}</h3>
<h4>💡 프로젝트 생성이란?</h4>
<p><strong>새로운 Flutter 앱을 만들기 위한 기본 틀을 준비하는 것</strong></p>
<p>비유: 집 짓기</p>
<ul>
<li>땅 다지기 (프로젝트 생성)</li>
<li>기둥 세우기 (패키지 설치)</li>
<li>방 만들기 (코드 작성)</li>
</ul>
<h4>🌱 초급: 프로젝트 생성하기</h4>
<div class="code-block" data-language="bash">
  <div class="code-block__header" style="background-color: #4eaa25; color: #fff">
    <span class="code-block__language">Bash</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6694" onclick="copyCode('code-1769481055219-6694')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6694" class="language-bash"># 1. Flutter 설치 확인
flutter --version

<h1>2. 새 프로젝트 생성</h1>
<p>flutter create my_ble_app</p>
<h1>3. 프로젝트 폴더로 이동</h1>
<p>cd my_ble_app</p>
<h1>4. 프로젝트 실행 (테스트)</h1>
<p>flutter run</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">8 lines</span>
  </div></p>
</div>

<h3 id="flutter_blue_plus-패키지-설치">flutter_blue_plus 패키지 설치 {#flutter_blue_plus-패키지-설치}</h3>
<h4>📦 패키지란?</h4>
<p><strong>다른 개발자가 만들어 놓은 유용한 도구 모음</strong></p>
<p>비유: 요리 도구 세트</p>
<ul>
<li>직접 만들 필요 없음</li>
<li>바로 사용 가능</li>
<li>시간 절약</li>
</ul>
<h4>🔧 패키지 설치 방법</h4>
<p><strong>1단계: pubspec.yaml 파일 수정</strong></p>
<div class="code-block" data-language="yaml">
  <div class="code-block__header" style="background-color: #cb171e; color: #fff">
    <span class="code-block__language">YAML</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6695" onclick="copyCode('code-1769481055219-6695')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6695" class="language-yaml"># pubspec.yaml 파일 (프로젝트의 설정 파일)

<p>name: my_ble_app
description: BLE 블루투스 IoT 앱</p>
<p>dependencies:
  flutter:
    sdk: flutter</p>
<h1>✅ 이 줄 추가!</h1>
<p>  flutter_blue_plus: ^1.30.0  # 최신 버전 확인하세요</p>
<h1>권한 요청용 패키지 (선택)</h1>
<p>  permission_handler: ^11.0.0</p>
<p>dev_dependencies:
  flutter_test:
    sdk: flutter</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">13 lines</span>
  </div></p>
</div>

<p><strong>2단계: 패키지 다운로드</strong></p>
<div class="code-block" data-language="bash">
  <div class="code-block__header" style="background-color: #4eaa25; color: #fff">
    <span class="code-block__language">Bash</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6696" onclick="copyCode('code-1769481055219-6696')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6696" class="language-bash"># 터미널에서 실행
flutter pub get</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">2 lines</span>
  </div>
</div>

<p><strong>3단계: 설치 확인</strong></p>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6697" onclick="copyCode('code-1769481055219-6697')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6697" class="language-dart">// lib/main.dart
import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;

<p>void main() {
  print(&quot;✅ flutter_blue_plus 설치 완료!&quot;);
  runApp(MyApp());
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">6 lines</span>
  </div></p>
</div>

<h3 id="프로젝트-구조-이해하기">프로젝트 구조 이해하기 {#프로젝트-구조-이해하기}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6698" onclick="copyCode('code-1769481055219-6698')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6698" class="language-plaintext">my_ble_app/
├── android/           # 안드로이드 설정 폴더
│   └── app/
│       └── src/
│           └── main/
│               └── AndroidManifest.xml  # 권한 설정 파일 ⭐
│
├── ios/              # iOS 설정 폴더
│   └── Runner/
│       └── Info.plist  # 권한 설정 파일 ⭐
│
├── lib/              # 📝 우리가 코드 작성할 곳!
│   ├── main.dart         # 메인 파일
│   ├── screens/          # 화면들
│   │   ├── scan_screen.dart
│   │   └── device_screen.dart
│   ├── services/         # BLE 통신 로직
│   │   └── ble_service.dart
│   └── widgets/          # 재사용 가능한 UI
│       └── device_tile.dart
│
├── pubspec.yaml      # 패키지 설정 ⭐
└── README.md         # 프로젝트 설명</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">23 lines</span>
  </div>
</div>

<hr>
<h2 id="5단계-안드로이드ios-권한-설정">📱 5단계: 안드로이드/iOS 권한 설정 {#5단계-안드로이드ios-권한-설정}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="왜-권한이-필요한가">왜 권한이 필요한가? {#왜-권한이-필요한가}</h3>
<h4>💡 권한 설명</h4>
<p><strong>앱이 블루투스를 사용하려면 사용자의 허락이 필요</strong></p>
<p>비유: 집에 들어가기</p>
<ul>
<li>집 주인(사용자)에게 허락 받기</li>
<li>아무나 마음대로 못 들어감</li>
<li>개인정보 보호</li>
</ul>
<h4>⚠️ 권한 없으면 생기는 일</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6699" onclick="copyCode('code-1769481055219-6699')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6699" class="language-plaintext">권한 없을 때:
❌ 블루투스 스캔 안 됨
❌ 기기 연결 안 됨
❌ 앱이 크래시 날 수 있음

<p>권한 있을 때:
✅ 모든 기능 정상 작동
✅ 사용자가 안심하고 사용</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">7 lines</span>
  </div></p>
</div>

<h3 id="안드로이드-권한-설정">🤖 안드로이드 권한 설정 {#안드로이드-권한-설정}</h3>
<h4>파일 위치</h4>
<p><code>android/app/src/main/AndroidManifest.xml</code></p>
<h4>🌿 중급: 안드로이드 권한 추가</h4>
<div class="code-block" data-language="xml">
  <div class="code-block__header" style="background-color: #0060ac; color: #fff">
    <span class="code-block__language">XML</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6700" onclick="copyCode('code-1769481055219-6700')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6700" class="language-xml">&lt;!-- AndroidManifest.xml --&gt;

<p>&lt;manifest xmlns:android=&quot;<a href="http://schemas.android.com/apk/res/android">http://schemas.android.com/apk/res/android</a>&quot;
    package=&quot;com.example.my_ble_app&quot;&gt;</p>
<pre><code>&amp;lt;!-- ✅ 이 권한들을 추가하세요! --&amp;gt;

&amp;lt;!-- 블루투스 기본 권한 --&amp;gt;
&amp;lt;uses-permission android:name=&amp;quot;android.permission.BLUETOOTH&amp;quot;/&amp;gt;
&amp;lt;uses-permission android:name=&amp;quot;android.permission.BLUETOOTH_ADMIN&amp;quot;/&amp;gt;

&amp;lt;!-- Android 12 이상 필수 권한 --&amp;gt;
&amp;lt;uses-permission android:name=&amp;quot;android.permission.BLUETOOTH_SCAN&amp;quot;
                 android:usesPermissionFlags=&amp;quot;neverForLocation&amp;quot; /&amp;gt;
&amp;lt;uses-permission android:name=&amp;quot;android.permission.BLUETOOTH_CONNECT&amp;quot;/&amp;gt;

&amp;lt;!-- 위치 권한 (Android 11 이하에서 필요) --&amp;gt;
&amp;lt;uses-permission android:name=&amp;quot;android.permission.ACCESS_FINE_LOCATION&amp;quot;/&amp;gt;
&amp;lt;uses-permission android:name=&amp;quot;android.permission.ACCESS_COARSE_LOCATION&amp;quot;/&amp;gt;

&amp;lt;!-- 블루투스 기능 필수 표시 --&amp;gt;
&amp;lt;uses-feature
    android:name=&amp;quot;android.hardware.bluetooth_le&amp;quot;
    android:required=&amp;quot;true&amp;quot;/&amp;gt;

&amp;lt;application
    android:label=&amp;quot;My BLE App&amp;quot;
    android:icon=&amp;quot;@mipmap/ic_launcher&amp;quot;&amp;gt;
    &amp;lt;!-- 기존 내용 유지 --&amp;gt;
&amp;lt;/application&amp;gt;
</code></pre>
<p>&lt;/manifest&gt;</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">24 lines</span>
  </div></p>
</div>

<h4>📝 권한 설명</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6701" onclick="copyCode('code-1769481055219-6701')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6701" class="language-plaintext">🔵 BLUETOOTH_SCAN
   - 주변 블루투스 기기 검색
   - &quot;누가 있는지 둘러보기&quot;

<p>🔵 BLUETOOTH_CONNECT</p>
<ul>
<li>기기에 연결</li>
<li>&quot;친구와 손잡기&quot;</li>
</ul>
<p>🔵 ACCESS_FINE_LOCATION</p>
<ul>
<li>위치 권한</li>
<li>왜 필요? 블루투스로 위치 추적 가능해서</li>
<li>Android 11 이하에서 필수</code></pre>  <div class="code-block__footer">
    <span class="code-block__lines">10 lines</span>
  </div>
</div></li>
</ul>
<h3 id="ios-권한-설정">🍎 iOS 권한 설정 {#ios-권한-설정}</h3>
<h4>파일 위치</h4>
<p><code>ios/Runner/Info.plist</code></p>
<h4>🌿 중급: iOS 권한 추가</h4>
<div class="code-block" data-language="xml">
  <div class="code-block__header" style="background-color: #0060ac; color: #fff">
    <span class="code-block__language">XML</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6702" onclick="copyCode('code-1769481055219-6702')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6702" class="language-xml">&lt;!-- Info.plist --&gt;

<p>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot;
  &quot;<a href="http://www.apple.com/DTDs/PropertyList-1.0.dtd">http://www.apple.com/DTDs/PropertyList-1.0.dtd</a>&quot;&gt;
&lt;plist version=&quot;1.0&quot;&gt;
&lt;dict&gt;
    &lt;!-- 기존 내용 --&gt;</p>
<pre><code>&amp;lt;!-- ✅ 이 내용을 추가하세요! --&amp;gt;

&amp;lt;!-- 블루투스 사용 이유 설명 (필수!) --&amp;gt;
&amp;lt;key&amp;gt;NSBluetoothAlwaysUsageDescription&amp;lt;/key&amp;gt;
&amp;lt;string&amp;gt;이 앱은 주변 IoT 센서와 통신하기 위해 블루투스를 사용합니다.&amp;lt;/string&amp;gt;

&amp;lt;!-- iOS 13 이상 --&amp;gt;
&amp;lt;key&amp;gt;NSBluetoothPeripheralUsageDescription&amp;lt;/key&amp;gt;
&amp;lt;string&amp;gt;온도 센서 및 LED 제어 기기와 연결하기 위해 블루투스가 필요합니다.&amp;lt;/string&amp;gt;

&amp;lt;!-- 위치 권한 (백그라운드 스캔 시 필요) --&amp;gt;
&amp;lt;key&amp;gt;NSLocationWhenInUseUsageDescription&amp;lt;/key&amp;gt;
&amp;lt;string&amp;gt;주변 블루투스 기기를 찾기 위해 위치 권한이 필요합니다.&amp;lt;/string&amp;gt;
</code></pre>
<p>&lt;/dict&gt;
&lt;/plist&gt;</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">19 lines</span>
  </div></p>
</div>

<h4>💡 iOS 설명 문구 작성 팁</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6703" onclick="copyCode('code-1769481055219-6703')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6703" class="language-plaintext">✅ 좋은 예:
&quot;이 앱은 온도 센서와 통신하여 실시간 온도를 확인하기 위해
블루투스를 사용합니다.&quot;

<p>❌ 나쁜 예:
&quot;블루투스 사용&quot;
(너무 간단해서 Apple 심사 거절될 수 있음)</p>
<p>💡 핵심:</p>
<ul>
<li>구체적으로 작성</li>
<li>사용자가 이해하기 쉽게</li>
<li>개인정보 보호 언급</code></pre><div class="code-block__footer">
  <span class="code-block__lines">10 lines</span>
</div>
</div></li>
</ul>
<h3 id="런타임-권한-요청-코드">🔐 런타임 권한 요청 (코드) {#런타임-권한-요청-코드}</h3>
<h4>🌳 고급: Flutter에서 권한 요청하기</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6704" onclick="copyCode('code-1769481055219-6704')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6704" class="language-dart">import &#39;package:permission_handler/permission_handler.dart&#39;;
import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;

<p>class PermissionManager {</p>
<p>  // 모든 필요한 권한 확인 및 요청
  static Future&lt;bool&gt; requestAllPermissions() async {
    print(&quot;🔐 권한 확인 중...&quot;);</p>
<pre><code>// Android 버전 확인
if (Platform.isAndroid) {
  return await _requestAndroidPermissions();
} else if (Platform.isIOS) {
  return await _requestIOSPermissions();
}

return false;
</code></pre>
<p>  }</p>
<p>  // Android 권한 요청
  static Future&lt;bool&gt; _requestAndroidPermissions() async {
    // Android 12 이상
    if (await _isAndroid12OrHigher()) {
      Map&lt;Permission, PermissionStatus&gt; statuses = await [
        Permission.bluetoothScan,
        Permission.bluetoothConnect,
      ].request();</p>
<pre><code>  return statuses[Permission.bluetoothScan]!.isGranted &amp;amp;&amp;amp;
         statuses[Permission.bluetoothConnect]!.isGranted;
}
// Android 11 이하
else {
  Map&amp;lt;Permission, PermissionStatus&amp;gt; statuses = await [
    Permission.bluetooth,
    Permission.location,
  ].request();

  return statuses[Permission.bluetooth]!.isGranted &amp;amp;&amp;amp;
         statuses[Permission.location]!.isGranted;
}
</code></pre>
<p>  }</p>
<p>  // iOS 권한 요청
  static Future&lt;bool&gt; _requestIOSPermissions() async {
    var status = await Permission.bluetooth.request();
    return status.isGranted;
  }</p>
<p>  // Android 버전 확인
  static Future&lt;bool&gt; _isAndroid12OrHigher() async {
    // Build version 확인 로직
    return true; // 간단히 true로 가정
  }</p>
<p>  // 권한 거부 시 설정으로 이동
  static Future&lt;void&gt; openAppSettings() async {
    print(&quot;⚙️ 설정 앱 열기...&quot;);
    await openAppSettings();
  }
}</p>
<p>// 사용 예시
void main() async {
  WidgetsFlutterBinding.ensureInitialized();</p>
<p>  // 권한 요청
  bool granted = await PermissionManager.requestAllPermissions();</p>
<p>  if (granted) {
    print(&quot;✅ 모든 권한 허용됨!&quot;);
    runApp(MyApp());
  } else {
    print(&quot;❌ 권한이 거부되었습니다.&quot;);
    // 사용자에게 안내 메시지 표시
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">64 lines</span>
  </div></p>
</div>

<h4>🎯 권한 요청 흐름</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6705" onclick="copyCode('code-1769481055219-6705')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6705" class="language-plaintext">📱 앱 실행 흐름

<ol>
<li>앱 시작
↓</li>
<li>권한 확인<ul>
<li>이미 허용? → 바로 진행</li>
<li>아직 안 물어봄? → 다음 단계
↓</li>
</ul>
</li>
<li>사용자에게 권한 요청 팝업 표시
↓</li>
<li>사용자 선택<ul>
<li>[허용] → 계속 진행 ✅</li>
<li>[거부] → 기능 제한 안내 ❌
↓</li>
</ul>
</li>
<li>거부했다면<ul>
<li>설정 앱으로 안내</li>
<li>다시 시도 버튼 제공</code></pre><div class="code-block__footer">
 <span class="code-block__lines">16 lines</span>
</div>
</div></li>
</ul>
</li>
</ol>
<h3 id="주의사항">⚠️ 주의사항 {#주의사항}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6706" onclick="copyCode('code-1769481055219-6706')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6706" class="language-plaintext">🚨 iOS 디버그 모드 제한

<p>❌ iOS에서는 디버그 모드에서 BLE가 작동하지 않습니다!</p>
<p>해결 방법:</p>
<ol>
<li>flutter build ios</li>
<li>Xcode에서 릴리스 모드로 실행</li>
<li>또는 TestFlight를 통해 배포</li>
</ol>
<p>💡 개발 중에는:</p>
<ul>
<li>안드로이드 기기로 테스트</li>
<li>iOS는 릴리스 빌드로만 테스트</code></pre><div class="code-block__footer">
  <span class="code-block__lines">9 lines</span>
</div>
</div></li>
</ul>
<hr>
<h2 id="6단계-ble-기기-스캔-구현하기">🎨 6단계: BLE 기기 스캔 구현하기 {#6단계-ble-기기-스캔-구현하기}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="스캔-화면-만들기">스캔 화면 만들기 {#스캔-화면-만들기}</h3>
<h4>💡 스캔이란?</h4>
<p><strong>주변의 블루투스 기기를 찾는 것</strong></p>
<p>비유: 친구 찾기</p>
<ul>
<li>놀이터에서 친구 이름 부르기</li>
<li>대답하는 친구 발견</li>
<li>리스트에 추가</li>
</ul>
<h4>🌿 중급: 기본 스캔 화면</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6707" onclick="copyCode('code-1769481055219-6707')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6707" class="language-dart">// lib/screens/scan_screen.dart

<p>import &#39;package:flutter/material.dart&#39;;
import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;</p>
<p>class ScanScreen extends StatefulWidget {
  @override
  _ScanScreenState createState() =&gt; _ScanScreenState();
}</p>
<p>class _ScanScreenState extends State&lt;ScanScreen&gt; {
  // 발견된 기기 목록
  List&lt;ScanResult&gt; scanResults = [];</p>
<p>  // 스캔 중인지 여부
  bool isScanning = false;</p>
<p>  @override
  void initState() {
    super.initState();</p>
<pre><code>// 스캔 결과 리스너
FlutterBluePlus.scanResults.listen((results) {
  setState(() {
    scanResults = results;
  });
});

// 자동 스캔 시작
startScan();
</code></pre>
<p>  }</p>
<p>  // 스캔 시작
  void startScan() async {
    print(&quot;📡 스캔 시작!&quot;);</p>
<pre><code>setState(() {
  isScanning = true;
});

try {
  // 5초 동안 스캔
  await FlutterBluePlus.startScan(
    timeout: Duration(seconds: 5),
  );
} catch (e) {
  print(&amp;quot;⚠️ 스캔 오류: $e&amp;quot;);
}

setState(() {
  isScanning = false;
});
</code></pre>
<p>  }</p>
<p>  // 스캔 중지
  void stopScan() async {
    print(&quot;🛑 스캔 중지&quot;);
    await FlutterBluePlus.stopScan();</p>
<pre><code>setState(() {
  isScanning = false;
});
</code></pre>
<p>  }</p>
<p>  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(&#39;BLE 기기 스캔&#39;),
        actions: [
          // 새로고침 버튼
          IconButton(
            icon: Icon(Icons.refresh),
            onPressed: isScanning ? null : startScan,
          ),
        ],
      ),
      body: Column(
        children: [
          // 스캔 상태 표시
          if (isScanning)
            LinearProgressIndicator(),</p>
<pre><code>      // 발견된 기기 없음
      if (scanResults.isEmpty &amp;amp;&amp;amp; !isScanning)
        Expanded(
          child: Center(
            child: Column(
              mainAxisAlignment: MainAxisAlignment.center,
              children: [
                Icon(Icons.bluetooth_disabled, size: 100, color: Colors.grey),
                SizedBox(height: 20),
                Text(
                  &amp;#39;발견된 기기가 없습니다&amp;#39;,
                  style: TextStyle(fontSize: 18, color: Colors.grey),
                ),
                SizedBox(height: 10),
                ElevatedButton(
                  onPressed: startScan,
                  child: Text(&amp;#39;다시 스캔&amp;#39;),
                ),
              ],
            ),
          ),
        ),

      // 기기 목록
      if (scanResults.isNotEmpty)
        Expanded(
          child: ListView.builder(
            itemCount: scanResults.length,
            itemBuilder: (context, index) {
              ScanResult result = scanResults[index];
              return DeviceTile(result: result);
            },
          ),
        ),
    ],
  ),

  // 스캔 버튼
  floatingActionButton: FloatingActionButton(
    onPressed: isScanning ? stopScan : startScan,
    child: Icon(isScanning ? Icons.stop : Icons.search),
  ),
);
</code></pre>
<p>  }</p>
<p>  @override
  void dispose() {
    stopScan();
    super.dispose();
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">116 lines</span>
  </div></p>
</div>

<h3 id="기기-타일-위젯-만들기">기기 타일 위젯 만들기 {#기기-타일-위젯-만들기}</h3>
<h4>🌳 고급: 예쁜 기기 리스트 아이템</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6708" onclick="copyCode('code-1769481055219-6708')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6708" class="language-dart">// lib/widgets/device_tile.dart

<p>import &#39;package:flutter/material.dart&#39;;
import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;</p>
<p>class DeviceTile extends StatelessWidget {
  final ScanResult result;</p>
<p>  DeviceTile({required this.result});</p>
<p>  @override
  Widget build(BuildContext context) {
    return Card(
      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 8),
      elevation: 2,
      child: ListTile(
        // 블루투스 아이콘
        leading: Icon(
          Icons.bluetooth,
          color: Colors.blue,
          size: 40,
        ),</p>
<pre><code>    // 기기 이름
    title: Text(
      result.device.name.isEmpty
        ? &amp;#39;(이름 없음)&amp;#39;
        : result.device.name,
      style: TextStyle(
        fontWeight: FontWeight.bold,
        fontSize: 16,
      ),
    ),

    // 기기 정보
    subtitle: Column(
      crossAxisAlignment: CrossAxisAlignment.start,
      children: [
        SizedBox(height: 4),

        // MAC 주소
        Text(
          &amp;#39;MAC: ${result.device.id}&amp;#39;,
          style: TextStyle(fontSize: 12, color: Colors.grey[600]),
        ),

        SizedBox(height: 4),

        // 신호 세기
        Row(
          children: [
            Icon(
              _getSignalIcon(result.rssi),
              size: 16,
              color: _getSignalColor(result.rssi),
            ),
            SizedBox(width: 4),
            Text(
              &amp;#39;${result.rssi} dBm&amp;#39;,
              style: TextStyle(
                fontSize: 12,
                color: _getSignalColor(result.rssi),
              ),
            ),
          ],
        ),
      ],
    ),

    // 연결 버튼
    trailing: ElevatedButton(
      onPressed: () {
        // 기기 상세 화면으로 이동
        Navigator.push(
          context,
          MaterialPageRoute(
            builder: (context) =&amp;gt; DeviceScreen(device: result.device),
          ),
        );
      },
      child: Text(&amp;#39;연결&amp;#39;),
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // 신호 세기에 따른 아이콘
  IconData _getSignalIcon(int rssi) {
    if (rssi &gt; -60) return Icons.signal_wifi_4_bar;
    if (rssi &gt; -70) return Icons.signal_wifi_3_bar;
    if (rssi &gt; -80) return Icons.signal_wifi_2_bar;
    return Icons.signal_wifi_1_bar;
  }</p>
<p>  // 신호 세기에 따른 색상
  Color _getSignalColor(int rssi) {
    if (rssi &gt; -60) return Colors.green;
    if (rssi &gt; -70) return Colors.orange;
    return Colors.red;
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">89 lines</span>
  </div></p>
</div>

<h3 id="필터링-기능-추가">필터링 기능 추가 {#필터링-기능-추가}</h3>
<h4>🌳 고급: 원하는 기기만 찾기</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6709" onclick="copyCode('code-1769481055219-6709')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6709" class="language-dart">class AdvancedScanScreen extends StatefulWidget {
  @override
  _AdvancedScanScreenState createState() =&gt; _AdvancedScanScreenState();
}

<p>class _AdvancedScanScreenState extends State&lt;AdvancedScanScreen&gt; {
  List&lt;ScanResult&gt; scanResults = [];
  String searchQuery = &#39;&#39;;
  bool showOnlyNamed = false;</p>
<p>  // 필터링된 결과
  List&lt;ScanResult&gt; get filteredResults {
    List&lt;ScanResult&gt; filtered = scanResults;</p>
<pre><code>// 이름 있는 기기만 표시
if (showOnlyNamed) {
  filtered = filtered.where((r) =&amp;gt; r.device.name.isNotEmpty).toList();
}

// 검색어로 필터링
if (searchQuery.isNotEmpty) {
  filtered = filtered.where((r) {
    return r.device.name.toLowerCase().contains(searchQuery.toLowerCase()) ||
           r.device.id.toString().contains(searchQuery);
  }).toList();
}

// 신호 세기 순 정렬 (가까운 순)
filtered.sort((a, b) =&amp;gt; b.rssi.compareTo(a.rssi));

return filtered;
</code></pre>
<p>  }</p>
<p>  // 특정 서비스 UUID로 스캔
  void scanWithServiceFilter() async {
    print(&quot;🔍 온도 서비스 기기만 스캔...&quot;);</p>
<pre><code>await FlutterBluePlus.startScan(
  withServices: [
    Guid(&amp;quot;0000181a-0000-1000-8000-00805f9b34fb&amp;quot;), // 환경 센서 서비스
  ],
  timeout: Duration(seconds: 5),
);
</code></pre>
<p>  }</p>
<p>  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(&#39;고급 스캔&#39;),
        bottom: PreferredSize(
          preferredSize: Size.fromHeight(100),
          child: Column(
            children: [
              // 검색 바
              Padding(
                padding: EdgeInsets.all(8.0),
                child: TextField(
                  decoration: InputDecoration(
                    hintText: &#39;기기 이름 또는 MAC 주소 검색&#39;,
                    prefixIcon: Icon(Icons.search),
                    border: OutlineInputBorder(
                      borderRadius: BorderRadius.circular(10),
                    ),
                    filled: true,
                    fillColor: Colors.white,
                  ),
                  onChanged: (value) {
                    setState(() {
                      searchQuery = value;
                    });
                  },
                ),
              ),</p>
<pre><code>          // 필터 옵션
          Row(
            children: [
              Checkbox(
                value: showOnlyNamed,
                onChanged: (value) {
                  setState(() {
                    showOnlyNamed = value!;
                  });
                },
              ),
              Text(&amp;#39;이름 있는 기기만 표시&amp;#39;),
            ],
          ),
        ],
      ),
    ),
  ),

  body: ListView.builder(
    itemCount: filteredResults.length,
    itemBuilder: (context, index) {
      return DeviceTile(result: filteredResults[index]);
    },
  ),
);
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">92 lines</span>
  </div></p>
</div>

<hr>
<h2 id="7단계-기기-연결-및-데이터-통신">🔌 7단계: 기기 연결 및 데이터 통신 {#7단계-기기-연결-및-데이터-통신}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="기기-상세-화면-만들기">기기 상세 화면 만들기 {#기기-상세-화면-만들기}</h3>
<h4>💡 기기 상세 화면이란?</h4>
<p><strong>연결된 기기의 정보를 보고 데이터를 주고받는 화면</strong></p>
<p>비유: 친구와 대화하는 방</p>
<ul>
<li>친구 정보 확인 (서비스 목록)</li>
<li>대화 시작 (데이터 통신)</li>
<li>전화 끊기 (연결 해제)</li>
</ul>
<h4>🌳 고급: 완전한 기기 화면</h4>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6710" onclick="copyCode('code-1769481055219-6710')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6710" class="language-dart">// lib/screens/device_screen.dart

<p>import &#39;package:flutter/material.dart&#39;;
import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;</p>
<p>class DeviceScreen extends StatefulWidget {
  final BluetoothDevice device;</p>
<p>  DeviceScreen({required this.device});</p>
<p>  @override
  _DeviceScreenState createState() =&gt; _DeviceScreenState();
}</p>
<p>class _DeviceScreenState extends State&lt;DeviceScreen&gt; {
  // 연결 상태
  bool isConnected = false;
  bool isConnecting = false;</p>
<p>  // 발견된 서비스 목록
  List&lt;BluetoothService&gt; services = [];</p>
<p>  @override
  void initState() {
    super.initState();</p>
<pre><code>// 자동으로 연결 시도
connectToDevice();

// 연결 상태 리스너
widget.device.state.listen((state) {
  setState(() {
    isConnected = (state == BluetoothDeviceState.connected);
    isConnecting = (state == BluetoothDeviceState.connecting);
  });

  if (isConnected) {
    // 연결되면 서비스 검색
    discoverServices();
  }
});
</code></pre>
<p>  }</p>
<p>  // 기기에 연결
  Future&lt;void&gt; connectToDevice() async {
    print(&quot;🔗 연결 시도: ${widget.device.name}&quot;);</p>
<pre><code>setState(() {
  isConnecting = true;
});

try {
  await widget.device.connect(
    timeout: Duration(seconds: 15),
  );

  print(&amp;quot;✅ 연결 성공!&amp;quot;);

  // 스낵바 표시
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(&amp;#39;${widget.device.name}에 연결되었습니다&amp;#39;)),
  );

} catch (e) {
  print(&amp;quot;❌ 연결 실패: $e&amp;quot;);

  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(&amp;#39;연결 실패: $e&amp;#39;)),
  );
} finally {
  setState(() {
    isConnecting = false;
  });
}
</code></pre>
<p>  }</p>
<p>  // 연결 해제
  Future&lt;void&gt; disconnectDevice() async {
    print(&quot;🔌 연결 해제 중...&quot;);</p>
<pre><code>try {
  await widget.device.disconnect();
  print(&amp;quot;👋 연결 해제 완료&amp;quot;);

  Navigator.pop(context); // 이전 화면으로 돌아가기

} catch (e) {
  print(&amp;quot;⚠️ 연결 해제 실패: $e&amp;quot;);
}
</code></pre>
<p>  }</p>
<p>  // 서비스 검색
  Future&lt;void&gt; discoverServices() async {
    print(&quot;🔍 서비스 검색 중...&quot;);</p>
<pre><code>try {
  List&amp;lt;BluetoothService&amp;gt; discoveredServices =
    await widget.device.discoverServices();

  setState(() {
    services = discoveredServices;
  });

  print(&amp;quot;✅ 서비스 ${services.length}개 발견!&amp;quot;);

  // 각 서비스 정보 출력
  for (var service in services) {
    print(&amp;quot;📁 서비스: ${service.uuid}&amp;quot;);
    print(&amp;quot;   캐릭터리스틱 ${service.characteristics.length}개&amp;quot;);
  }

} catch (e) {
  print(&amp;quot;⚠️ 서비스 검색 실패: $e&amp;quot;);
}
</code></pre>
<p>  }</p>
<p>  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(widget.device.name.isEmpty
          ? &#39;(이름 없음)&#39;
          : widget.device.name),
        actions: [
          // 연결/해제 버튼
          IconButton(
            icon: Icon(isConnected ? Icons.link_off : Icons.link),
            onPressed: isConnecting
              ? null
              : (isConnected ? disconnectDevice : connectToDevice),
          ),
        ],
      ),</p>
<pre><code>  body: Column(
    children: [
      // 연결 상태 카드
      _buildConnectionCard(),

      Divider(),

      // 서비스 목록
      if (services.isEmpty &amp;amp;&amp;amp; isConnected)
        Padding(
          padding: EdgeInsets.all(20),
          child: Column(
            children: [
              CircularProgressIndicator(),
              SizedBox(height: 10),
              Text(&amp;#39;서비스 검색 중...&amp;#39;),
            ],
          ),
        ),

      if (services.isNotEmpty)
        Expanded(
          child: ListView.builder(
            itemCount: services.length,
            itemBuilder: (context, index) {
              return ServiceTile(service: services[index]);
            },
          ),
        ),
    ],
  ),
);
</code></pre>
<p>  }</p>
<p>  // 연결 상태 카드
  Widget _buildConnectionCard() {
    return Card(
      margin: EdgeInsets.all(16),
      elevation: 3,
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          children: [
            // 연결 상태 아이콘
            Icon(
              isConnected
                ? Icons.bluetooth_connected
                : Icons.bluetooth_disabled,
              size: 60,
              color: isConnected ? Colors.green : Colors.grey,
            ),</p>
<pre><code>        SizedBox(height: 10),

        // 연결 상태 텍스트
        Text(
          isConnecting
            ? &amp;#39;연결 중...&amp;#39;
            : (isConnected ? &amp;#39;연결됨&amp;#39; : &amp;#39;연결 안 됨&amp;#39;),
          style: TextStyle(
            fontSize: 20,
            fontWeight: FontWeight.bold,
            color: isConnected ? Colors.green : Colors.grey,
          ),
        ),

        SizedBox(height: 10),

        // 기기 정보
        Text(
          &amp;#39;MAC: ${widget.device.id}&amp;#39;,
          style: TextStyle(fontSize: 12, color: Colors.grey[600]),
        ),

        SizedBox(height: 10),

        // 연결 버튼
        if (!isConnected &amp;amp;&amp;amp; !isConnecting)
          ElevatedButton.icon(
            onPressed: connectToDevice,
            icon: Icon(Icons.bluetooth),
            label: Text(&amp;#39;다시 연결&amp;#39;),
          ),

        // 연결 해제 버튼
        if (isConnected)
          OutlinedButton.icon(
            onPressed: disconnectDevice,
            icon: Icon(Icons.link_off),
            label: Text(&amp;#39;연결 해제&amp;#39;),
            style: OutlinedButton.styleFrom(
              foregroundColor: Colors.red,
            ),
          ),
      ],
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  @override
  void dispose() {
    // 화면 닫을 때 연결 해제
    disconnectDevice();
    super.dispose();
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">200 lines</span>
  </div></p>
</div>

<h3 id="서비스-타일-위젯">서비스 타일 위젯 {#서비스-타일-위젯}</h3>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6711" onclick="copyCode('code-1769481055219-6711')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6711" class="language-dart">// lib/widgets/service_tile.dart

<p>class ServiceTile extends StatefulWidget {
  final BluetoothService service;</p>
<p>  ServiceTile({required this.service});</p>
<p>  @override
  _ServiceTileState createState() =&gt; _ServiceTileState();
}</p>
<p>class _ServiceTileState extends State&lt;ServiceTile&gt; {
  bool isExpanded = false;</p>
<p>  @override
  Widget build(BuildContext context) {
    return Card(
      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 8),
      child: ExpansionTile(
        title: Text(
          _getServiceName(widget.service.uuid),
          style: TextStyle(fontWeight: FontWeight.bold),
        ),
        subtitle: Text(
          &#39;UUID: ${widget.service.uuid}\n캐릭터리스틱: ${widget.service.characteristics.length}개&#39;,
          style: TextStyle(fontSize: 12),
        ),
        leading: Icon(Icons.folder, color: Colors.blue),
        children: [
          // 각 캐릭터리스틱 표시
          ...widget.service.characteristics.map((char) {
            return CharacteristicTile(characteristic: char);
          }).toList(),
        ],
      ),
    );
  }</p>
<p>  // 서비스 이름 가져오기
  String _getServiceName(Guid uuid) {
    Map&lt;String, String&gt; names = {
      &#39;0000180f&#39;: &#39;배터리 서비스&#39;,
      &#39;0000180a&#39;: &#39;기기 정보&#39;,
      &#39;0000180d&#39;: &#39;심박수&#39;,
      &#39;0000181a&#39;: &#39;환경 센서&#39;,
    };</p>
<pre><code>String uuidStr = uuid.toString().substring(4, 12);
return names[uuidStr] ?? &amp;#39;사용자 정의 서비스&amp;#39;;
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">44 lines</span>
  </div></p>
</div>

<h3 id="캐릭터리스틱-타일-위젯">캐릭터리스틱 타일 위젯 {#캐릭터리스틱-타일-위젯}</h3>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6712" onclick="copyCode('code-1769481055219-6712')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6712" class="language-dart">// lib/widgets/characteristic_tile.dart

<p>class CharacteristicTile extends StatefulWidget {
  final BluetoothCharacteristic characteristic;</p>
<p>  CharacteristicTile({required this.characteristic});</p>
<p>  @override
  _CharacteristicTileState createState() =&gt; _CharacteristicTileState();
}</p>
<p>class _CharacteristicTileState extends State&lt;CharacteristicTile&gt; {
  List&lt;int&gt; value = [];
  bool isNotifying = false;</p>
<p>  @override
  Widget build(BuildContext context) {
    return ListTile(
      leading: Icon(Icons.description, color: Colors.orange),</p>
<pre><code>  title: Text(
    &amp;#39;UUID: ${widget.characteristic.uuid}&amp;#39;,
    style: TextStyle(fontSize: 12),
  ),

  subtitle: Column(
    crossAxisAlignment: CrossAxisAlignment.start,
    children: [
      Text(&amp;#39;속성: ${_getProperties()}&amp;#39;),
      if (value.isNotEmpty)
        Text(&amp;#39;값: $value&amp;#39;, style: TextStyle(color: Colors.green)),
    ],
  ),

  trailing: Row(
    mainAxisSize: MainAxisSize.min,
    children: [
      // Read 버튼
      if (widget.characteristic.properties.read)
        IconButton(
          icon: Icon(Icons.download, size: 20),
          onPressed: readValue,
          tooltip: &amp;#39;Read&amp;#39;,
        ),

      // Write 버튼
      if (widget.characteristic.properties.write)
        IconButton(
          icon: Icon(Icons.upload, size: 20),
          onPressed: () =&amp;gt; writeValue(context),
          tooltip: &amp;#39;Write&amp;#39;,
        ),

      // Notify 토글 버튼
      if (widget.characteristic.properties.notify)
        IconButton(
          icon: Icon(
            isNotifying ? Icons.notifications_active : Icons.notifications_off,
            size: 20,
            color: isNotifying ? Colors.blue : Colors.grey,
          ),
          onPressed: toggleNotify,
          tooltip: &amp;#39;Notify&amp;#39;,
        ),
    ],
  ),
);
</code></pre>
<p>  }</p>
<p>  // 속성 문자열 생성
  String _getProperties() {
    List&lt;String&gt; props = [];</p>
<pre><code>if (widget.characteristic.properties.read) props.add(&amp;#39;Read&amp;#39;);
if (widget.characteristic.properties.write) props.add(&amp;#39;Write&amp;#39;);
if (widget.characteristic.properties.notify) props.add(&amp;#39;Notify&amp;#39;);

return props.join(&amp;#39;, &amp;#39;);
</code></pre>
<p>  }</p>
<p>  // Read 기능
  Future&lt;void&gt; readValue() async {
    try {
      List&lt;int&gt; readValue = await widget.characteristic.read();</p>
<pre><code>  setState(() {
    value = readValue;
  });

  print(&amp;quot;📖 읽기 성공: $value&amp;quot;);

  // 스낵바 표시
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(&amp;#39;읽기 성공: $value&amp;#39;)),
  );

} catch (e) {
  print(&amp;quot;❌ 읽기 실패: $e&amp;quot;);

  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(&amp;#39;읽기 실패: $e&amp;#39;)),
  );
}
</code></pre>
<p>  }</p>
<p>  // Write 기능
  Future&lt;void&gt; writeValue(BuildContext context) async {
    // 입력 다이얼로그 표시
    TextEditingController controller = TextEditingController();</p>
<pre><code>await showDialog(
  context: context,
  builder: (context) {
    return AlertDialog(
      title: Text(&amp;#39;데이터 전송&amp;#39;),
      content: TextField(
        controller: controller,
        decoration: InputDecoration(
          hintText: &amp;#39;전송할 데이터 입력 (예: 1, 25, Hello)&amp;#39;,
        ),
      ),
      actions: [
        TextButton(
          onPressed: () =&amp;gt; Navigator.pop(context),
          child: Text(&amp;#39;취소&amp;#39;),
        ),
        ElevatedButton(
          onPressed: () async {
            String input = controller.text;

            try {
              // 숫자면 바이트로, 문자면 코드로 변환
              List&amp;lt;int&amp;gt; data;

              if (int.tryParse(input) != null) {
                data = [int.parse(input)];
              } else {
                data = input.codeUnits;
              }

              await widget.characteristic.write(data);

              print(&amp;quot;✅ 전송 성공: $data&amp;quot;);

              Navigator.pop(context);

              ScaffoldMessenger.of(context).showSnackBar(
                SnackBar(content: Text(&amp;#39;전송 성공: $data&amp;#39;)),
              );

            } catch (e) {
              print(&amp;quot;❌ 전송 실패: $e&amp;quot;);

              ScaffoldMessenger.of(context).showSnackBar(
                SnackBar(content: Text(&amp;#39;전송 실패: $e&amp;#39;)),
              );
            }
          },
          child: Text(&amp;#39;전송&amp;#39;),
        ),
      ],
    );
  },
);
</code></pre>
<p>  }</p>
<p>  // Notify 토글
  Future&lt;void&gt; toggleNotify() async {
    try {
      if (isNotifying) {
        // 구독 취소
        await widget.characteristic.setNotifyValue(false);
        setState(() {
          isNotifying = false;
        });
        print(&quot;🔕 알림 구독 취소&quot;);
      } else {
        // 구독 시작
        await widget.characteristic.setNotifyValue(true);</p>
<pre><code>    widget.characteristic.value.listen((newValue) {
      setState(() {
        value = newValue;
      });
      print(&amp;quot;🔔 새 데이터 수신: $newValue&amp;quot;);
    });

    setState(() {
      isNotifying = true;
    });
    print(&amp;quot;📢 알림 구독 시작&amp;quot;);
  }

  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(isNotifying ? &amp;#39;알림 구독 시작&amp;#39; : &amp;#39;알림 구독 취소&amp;#39;)),
  );

} catch (e) {
  print(&amp;quot;❌ Notify 실패: $e&amp;quot;);

  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(&amp;#39;Notify 실패: $e&amp;#39;)),
  );
}
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">171 lines</span>
  </div></p>
</div>

<hr>
<h2 id="8단계-온도-센서-모니터링-앱">💡 8단계: 온도 센서 모니터링 앱 {#8단계-온도-센서-모니터링-앱}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="프로젝트-개요">🌟 프로젝트 개요 {#프로젝트-개요}</h3>
<p><strong>실시간 온도를 모니터링하고 그래프로 표시하는 앱</strong></p>
<h4>📋 프로젝트 목표</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6713" onclick="copyCode('code-1769481055219-6713')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6713" class="language-plaintext">✅ 온도 센서와 연결
✅ 실시간 온도 데이터 수신
✅ 온도 그래프 표시
✅ 최고/최저 온도 기록
✅ 온도 경고 기능</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">5 lines</span>
  </div>
</div>

<h3 id="고급-완전한-온도-모니터링-앱">🌳 고급: 완전한 온도 모니터링 앱 {#고급-완전한-온도-모니터링-앱}</h3>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6714" onclick="copyCode('code-1769481055219-6714')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6714" class="language-dart">// lib/screens/temperature_monitor_screen.dart

<p>import &#39;package:flutter/material.dart&#39;;
import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;
import &#39;package:fl_chart/fl_chart.dart&#39;; // 그래프 라이브러리</p>
<p>class TemperatureMonitorScreen extends StatefulWidget {
  final BluetoothDevice device;</p>
<p>  TemperatureMonitorScreen({required this.device});</p>
<p>  @override
  _TemperatureMonitorScreenState createState() =&gt;
    _TemperatureMonitorScreenState();
}</p>
<p>class _TemperatureMonitorScreenState extends State&lt;TemperatureMonitorScreen&gt; {
  // 온도 데이터
  double currentTemperature = 0.0;
  double maxTemperature = -999.0;
  double minTemperature = 999.0;</p>
<p>  // 온도 히스토리 (그래프용)
  List&lt;FlSpot&gt; temperatureHistory = [];</p>
<p>  // 온도 캐릭터리스틱
  BluetoothCharacteristic? tempCharacteristic;</p>
<p>  // 경고 임계값
  double alertThreshold = 30.0;</p>
<p>  @override
  void initState() {
    super.initState();
    setupTemperatureMonitoring();
  }</p>
<p>  // 온도 모니터링 설정
  Future&lt;void&gt; setupTemperatureMonitoring() async {
    print(&quot;🌡️ 온도 모니터링 설정 중...&quot;);</p>
<pre><code>// 기기 연결
await widget.device.connect();

// 서비스 검색
List&amp;lt;BluetoothService&amp;gt; services = await widget.device.discoverServices();

// 환경 센서 서비스 찾기
for (BluetoothService service in services) {
  // 환경 센서 서비스 UUID: 0x181A
  if (service.uuid.toString().contains(&amp;quot;181a&amp;quot;)) {
    print(&amp;quot;✅ 환경 센서 서비스 발견!&amp;quot;);

    // 온도 캐릭터리스틱 찾기 (UUID: 0x2A6E)
    for (BluetoothCharacteristic char in service.characteristics) {
      if (char.uuid.toString().contains(&amp;quot;2a6e&amp;quot;)) {
        tempCharacteristic = char;
        print(&amp;quot;🌡️ 온도 캐릭터리스틱 발견!&amp;quot;);

        // Notify 구독
        await subscribeToTemperature();
        break;
      }
    }
  }
}

if (tempCharacteristic == null) {
  print(&amp;quot;❌ 온도 캐릭터리스틱을 찾을 수 없습니다&amp;quot;);

  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(&amp;#39;온도 센서를 찾을 수 없습니다&amp;#39;)),
  );
}
</code></pre>
<p>  }</p>
<p>  // 온도 구독
  Future&lt;void&gt; subscribeToTemperature() async {
    if (tempCharacteristic == null) return;</p>
<pre><code>print(&amp;quot;📢 온도 실시간 모니터링 시작&amp;quot;);

// Notify 활성화
await tempCharacteristic!.setNotifyValue(true);

// 데이터 수신 리스너
tempCharacteristic!.value.listen((value) {
  if (value.isEmpty) return;

  // 바이트 데이터를 온도로 변환
  double temperature = value[0] + (value[1] / 100.0);

  setState(() {
    currentTemperature = temperature;

    // 최고/최저 온도 업데이트
    if (temperature &amp;gt; maxTemperature) {
      maxTemperature = temperature;
    }
    if (temperature &amp;lt; minTemperature) {
      minTemperature = temperature;
    }

    // 그래프 데이터 추가
    double x = temperatureHistory.length.toDouble();
    temperatureHistory.add(FlSpot(x, temperature));

    // 최근 20개 데이터만 유지
    if (temperatureHistory.length &amp;gt; 20) {
      temperatureHistory.removeAt(0);

      // X축 재정렬
      for (int i = 0; i &amp;lt; temperatureHistory.length; i++) {
        temperatureHistory[i] = FlSpot(
          i.toDouble(),
          temperatureHistory[i].y,
        );
      }
    }
  });

  print(&amp;quot;🌡️ 현재 온도: ${temperature}°C&amp;quot;);

  // 경고 확인
  if (temperature &amp;gt; alertThreshold) {
    showTemperatureAlert(temperature);
  }
});
</code></pre>
<p>  }</p>
<p>  // 온도 경고 표시
  void showTemperatureAlert(double temperature) {
    showDialog(
      context: context,
      builder: (context) {
        return AlertDialog(
          title: Row(
            children: [
              Icon(Icons.warning, color: Colors.red),
              SizedBox(width: 10),
              Text(&#39;온도 경고!&#39;),
            ],
          ),
          content: Text(
            &#39;현재 온도가 ${temperature.toStringAsFixed(1)}°C로\n&#39;
            &#39;설정된 임계값 ${alertThreshold}°C를 초과했습니다!&#39;,
          ),
          actions: [
            TextButton(
              onPressed: () =&gt; Navigator.pop(context),
              child: Text(&#39;확인&#39;),
            ),
          ],
        );
      },
    );
  }</p>
<p>  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(&#39;온도 모니터&#39;),
        actions: [
          // 설정 버튼
          IconButton(
            icon: Icon(Icons.settings),
            onPressed: () {
              _showSettingsDialog();
            },
          ),
        ],
      ),</p>
<pre><code>  body: SingleChildScrollView(
    child: Column(
      children: [
        // 현재 온도 카드
        _buildCurrentTemperatureCard(),

        SizedBox(height: 20),

        // 통계 카드
        _buildStatisticsCard(),

        SizedBox(height: 20),

        // 온도 그래프
        _buildTemperatureChart(),
      ],
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // 현재 온도 카드
  Widget _buildCurrentTemperatureCard() {
    return Card(
      margin: EdgeInsets.all(16),
      elevation: 5,
      child: Container(
        width: double.infinity,
        padding: EdgeInsets.all(30),
        child: Column(
          children: [
            Icon(
              Icons.thermostat,
              size: 80,
              color: _getTemperatureColor(currentTemperature),
            ),</p>
<pre><code>        SizedBox(height: 10),

        Text(
          &amp;#39;현재 온도&amp;#39;,
          style: TextStyle(fontSize: 18, color: Colors.grey[600]),
        ),

        SizedBox(height: 5),

        Text(
          &amp;#39;${currentTemperature.toStringAsFixed(1)}°C&amp;#39;,
          style: TextStyle(
            fontSize: 60,
            fontWeight: FontWeight.bold,
            color: _getTemperatureColor(currentTemperature),
          ),
        ),

        SizedBox(height: 10),

        Text(
          _getTemperatureStatus(currentTemperature),
          style: TextStyle(
            fontSize: 16,
            color: _getTemperatureColor(currentTemperature),
          ),
        ),
      ],
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // 통계 카드
  Widget _buildStatisticsCard() {
    return Padding(
      padding: EdgeInsets.symmetric(horizontal: 16),
      child: Row(
        children: [
          // 최고 온도
          Expanded(
            child: Card(
              color: Colors.red[50],
              child: Padding(
                padding: EdgeInsets.all(16),
                child: Column(
                  children: [
                    Icon(Icons.arrow_upward, color: Colors.red),
                    SizedBox(height: 5),
                    Text(&#39;최고&#39;, style: TextStyle(color: Colors.red)),
                    Text(
                      &#39;${maxTemperature.toStringAsFixed(1)}°C&#39;,
                      style: TextStyle(
                        fontSize: 24,
                        fontWeight: FontWeight.bold,
                        color: Colors.red,
                      ),
                    ),
                  ],
                ),
              ),
            ),
          ),</p>
<pre><code>      SizedBox(width: 10),

      // 최저 온도
      Expanded(
        child: Card(
          color: Colors.blue[50],
          child: Padding(
            padding: EdgeInsets.all(16),
            child: Column(
              children: [
                Icon(Icons.arrow_downward, color: Colors.blue),
                SizedBox(height: 5),
                Text(&amp;#39;최저&amp;#39;, style: TextStyle(color: Colors.blue)),
                Text(
                  &amp;#39;${minTemperature.toStringAsFixed(1)}°C&amp;#39;,
                  style: TextStyle(
                    fontSize: 24,
                    fontWeight: FontWeight.bold,
                    color: Colors.blue,
                  ),
                ),
              ],
            ),
          ),
        ),
      ),
    ],
  ),
);
</code></pre>
<p>  }</p>
<p>  // 온도 그래프
  Widget _buildTemperatureChart() {
    return Card(
      margin: EdgeInsets.all(16),
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              &#39;온도 변화 그래프&#39;,
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),</p>
<pre><code>        SizedBox(height: 20),

        Container(
          height: 200,
          child: temperatureHistory.isEmpty
            ? Center(child: Text(&amp;#39;데이터 수집 중...&amp;#39;))
            : LineChart(
                LineChartData(
                  gridData: FlGridData(show: true),
                  titlesData: FlTitlesData(show: true),
                  borderData: FlBorderData(show: true),
                  lineBarsData: [
                    LineChartBarData(
                      spots: temperatureHistory,
                      isCurved: true,
                      color: Colors.blue,
                      barWidth: 3,
                      dotData: FlDotData(show: false),
                    ),
                  ],
                ),
              ),
        ),
      ],
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // 온도에 따른 색상
  Color _getTemperatureColor(double temp) {
    if (temp &gt; 30) return Colors.red;
    if (temp &gt; 25) return Colors.orange;
    if (temp &gt; 20) return Colors.green;
    return Colors.blue;
  }</p>
<p>  // 온도 상태 텍스트
  String _getTemperatureStatus(double temp) {
    if (temp &gt; 30) return &#39;매우 더움&#39;;
    if (temp &gt; 25) return &#39;더움&#39;;
    if (temp &gt; 20) return &#39;적당함&#39;;
    if (temp &gt; 15) return &#39;선선함&#39;;
    return &#39;추움&#39;;
  }</p>
<p>  // 설정 다이얼로그
  void _showSettingsDialog() {
    TextEditingController controller =
      TextEditingController(text: alertThreshold.toString());</p>
<pre><code>showDialog(
  context: context,
  builder: (context) {
    return AlertDialog(
      title: Text(&amp;#39;경고 임계값 설정&amp;#39;),
      content: TextField(
        controller: controller,
        keyboardType: TextInputType.number,
        decoration: InputDecoration(
          labelText: &amp;#39;온도 (°C)&amp;#39;,
          hintText: &amp;#39;30.0&amp;#39;,
        ),
      ),
      actions: [
        TextButton(
          onPressed: () =&amp;gt; Navigator.pop(context),
          child: Text(&amp;#39;취소&amp;#39;),
        ),
        ElevatedButton(
          onPressed: () {
            setState(() {
              alertThreshold = double.parse(controller.text);
            });
            Navigator.pop(context);

            ScaffoldMessenger.of(context).showSnackBar(
              SnackBar(
                content: Text(&amp;#39;경고 임계값이 ${alertThreshold}°C로 설정되었습니다&amp;#39;),
              ),
            );
          },
          child: Text(&amp;#39;저장&amp;#39;),
        ),
      ],
    );
  },
);
</code></pre>
<p>  }</p>
<p>  @override
  void dispose() {
    widget.device.disconnect();
    super.dispose();
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">361 lines</span>
  </div></p>
</div>

<h3 id="pubspecyaml에-그래프-라이브러리-추가">pubspec.yaml에 그래프 라이브러리 추가 {#pubspecyaml에-그래프-라이브러리-추가}</h3>
<div class="code-block" data-language="yaml">
  <div class="code-block__header" style="background-color: #cb171e; color: #fff">
    <span class="code-block__language">YAML</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6715" onclick="copyCode('code-1769481055219-6715')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6715" class="language-yaml">dependencies:
  flutter:
    sdk: flutter

<p>  flutter_blue_plus: ^1.30.0
  permission_handler: ^11.0.0</p>
<h1>그래프 라이브러리 추가</h1>
<p>  fl_chart: ^0.65.0</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">7 lines</span>
  </div></p>
</div>

<hr>
<h2 id="9단계-led-제어-앱-만들기">🎮 9단계: LED 제어 앱 만들기 {#9단계-led-제어-앱-만들기}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="프로젝트-개요">🌟 프로젝트 개요 {#프로젝트-개요}</h3>
<p><strong>스마트폰으로 LED를 원격 제어하는 앱</strong></p>
<h4>📋 프로젝트 목표</h4>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6716" onclick="copyCode('code-1769481055219-6716')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6716" class="language-plaintext">✅ LED ON/OFF 제어
✅ 밝기 조절
✅ RGB 색상 변경
✅ 패턴 제어 (깜빡임, 페이드 등)</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">4 lines</span>
  </div>
</div>

<h3 id="고급-완전한-led-제어-앱">🌳 고급: 완전한 LED 제어 앱 {#고급-완전한-led-제어-앱}</h3>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055219-6717" onclick="copyCode('code-1769481055219-6717')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055219-6717" class="language-dart">// lib/screens/led_control_screen.dart

<p>import &#39;package:flutter/material.dart&#39;;
import &#39;package:flutter_blue_plus/flutter_blue_plus.dart&#39;;</p>
<p>class LEDControlScreen extends StatefulWidget {
  final BluetoothDevice device;</p>
<p>  LEDControlScreen({required this.device});</p>
<p>  @override
  _LEDControlScreenState createState() =&gt; _LEDControlScreenState();
}</p>
<p>class _LEDControlScreenState extends State&lt;LEDControlScreen&gt; {
  // LED 캐릭터리스틱
  BluetoothCharacteristic? ledChar;</p>
<p>  // LED 상태
  bool isLedOn = false;
  double brightness = 100.0; // 0-100%</p>
<p>  // RGB 값
  double red = 255.0;
  double green = 0.0;
  double blue = 0.0;</p>
<p>  @override
  void initState() {
    super.initState();
    setupLEDControl();
  }</p>
<p>  // LED 제어 설정
  Future&lt;void&gt; setupLEDControl() async {
    print(&quot;💡 LED 제어 설정 중...&quot;);</p>
<pre><code>// 기기 연결
await widget.device.connect();

// 서비스 검색
List&amp;lt;BluetoothService&amp;gt; services = await widget.device.discoverServices();

// LED 서비스 찾기 (사용자 정의 UUID)
for (BluetoothService service in services) {
  if (service.uuid.toString().contains(&amp;quot;5678&amp;quot;)) { // LED 서비스 UUID
    print(&amp;quot;✅ LED 서비스 발견!&amp;quot;);

    // LED 캐릭터리스틱 찾기
    for (BluetoothCharacteristic char in service.characteristics) {
      if (char.uuid.toString().contains(&amp;quot;5678-0001&amp;quot;)) {
        ledChar = char;
        print(&amp;quot;💡 LED 캐릭터리스틱 발견!&amp;quot;);
        break;
      }
    }
  }
}
</code></pre>
<p>  }</p>
<p>  // LED ON/OFF
  Future&lt;void&gt; toggleLED() async {
    if (ledChar == null) return;</p>
<pre><code>try {
  // 0 = OFF, 1 = ON
  List&amp;lt;int&amp;gt; command = [isLedOn ? 0 : 1];

  await ledChar!.write(command);

  setState(() {
    isLedOn = !isLedOn;
  });

  print(&amp;quot;💡 LED ${isLedOn ? &amp;#39;ON&amp;#39; : &amp;#39;OFF&amp;#39;}&amp;quot;);

} catch (e) {
  print(&amp;quot;❌ LED 제어 실패: $e&amp;quot;);

  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(&amp;#39;LED 제어 실패: $e&amp;#39;)),
  );
}
</code></pre>
<p>  }</p>
<p>  // 밝기 조절
  Future&lt;void&gt; setBrightness(double value) async {
    if (ledChar == null) return;</p>
<pre><code>try {
  // 밝기 0-100% → 0-255
  int brightnessValue = (value * 2.55).toInt();

  List&amp;lt;int&amp;gt; command = [2, brightnessValue]; // 2 = 밝기 명령

  await ledChar!.write(command);

  setState(() {
    brightness = value;
  });

  print(&amp;quot;🔆 밝기: ${value.toInt()}%&amp;quot;);

} catch (e) {
  print(&amp;quot;❌ 밝기 조절 실패: $e&amp;quot;);
}
</code></pre>
<p>  }</p>
<p>  // RGB 색상 변경
  Future&lt;void&gt; setRGBColor() async {
    if (ledChar == null) return;</p>
<pre><code>try {
  List&amp;lt;int&amp;gt; command = [
    3, // RGB 명령
    red.toInt(),
    green.toInt(),
    blue.toInt(),
  ];

  await ledChar!.write(command);

  print(&amp;quot;🎨 색상 변경: R=$red, G=$green, B=$blue&amp;quot;);

} catch (e) {
  print(&amp;quot;❌ 색상 변경 실패: $e&amp;quot;);
}
</code></pre>
<p>  }</p>
<p>  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(&#39;LED 제어&#39;),
      ),</p>
<pre><code>  body: SingleChildScrollView(
    child: Padding(
      padding: EdgeInsets.all(16),
      child: Column(
        children: [
          // LED 상태 카드
          _buildLEDStatusCard(),

          SizedBox(height: 20),

          // ON/OFF 버튼
          _buildControlButtons(),

          SizedBox(height: 20),

          // 밝기 조절
          _buildBrightnessControl(),

          SizedBox(height: 20),

          // RGB 색상 조절
          _buildRGBControl(),
        ],
      ),
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // LED 상태 카드
  Widget _buildLEDStatusCard() {
    return Card(
      elevation: 5,
      color: isLedOn ? Colors.yellow[100] : Colors.grey[200],
      child: Container(
        width: double.infinity,
        padding: EdgeInsets.all(30),
        child: Column(
          children: [
            Icon(
              isLedOn ? Icons.lightbulb : Icons.lightbulb_outline,
              size: 100,
              color: isLedOn ? Colors.yellow[700] : Colors.grey,
            ),</p>
<pre><code>        SizedBox(height: 20),

        Text(
          isLedOn ? &amp;#39;LED 켜짐&amp;#39; : &amp;#39;LED 꺼짐&amp;#39;,
          style: TextStyle(
            fontSize: 28,
            fontWeight: FontWeight.bold,
            color: isLedOn ? Colors.yellow[900] : Colors.grey,
          ),
        ),
      ],
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // 제어 버튼들
  Widget _buildControlButtons() {
    return Row(
      children: [
        // OFF 버튼
        Expanded(
          child: ElevatedButton.icon(
            onPressed: isLedOn ? toggleLED : null,
            icon: Icon(Icons.power_settings_new),
            label: Text(&#39;끄기&#39;),
            style: ElevatedButton.styleFrom(
              padding: EdgeInsets.all(20),
              backgroundColor: Colors.red,
            ),
          ),
        ),</p>
<pre><code>    SizedBox(width: 10),

    // ON 버튼
    Expanded(
      child: ElevatedButton.icon(
        onPressed: !isLedOn ? toggleLED : null,
        icon: Icon(Icons.lightbulb),
        label: Text(&amp;#39;켜기&amp;#39;),
        style: ElevatedButton.styleFrom(
          padding: EdgeInsets.all(20),
          backgroundColor: Colors.green,
        ),
      ),
    ),
  ],
);
</code></pre>
<p>  }</p>
<p>  // 밝기 조절
  Widget _buildBrightnessControl() {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Row(
              mainAxisAlignment: MainAxisAlignment.spaceBetween,
              children: [
                Text(
                  &#39;밝기 조절&#39;,
                  style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
                ),
                Text(
                  &#39;${brightness.toInt()}%&#39;,
                  style: TextStyle(fontSize: 18),
                ),
              ],
            ),</p>
<pre><code>        SizedBox(height: 10),

        Slider(
          value: brightness,
          min: 0,
          max: 100,
          divisions: 100,
          label: &amp;#39;${brightness.toInt()}%&amp;#39;,
          onChanged: (value) {
            setState(() {
              brightness = value;
            });
          },
          onChangeEnd: (value) {
            setBrightness(value);
          },
        ),
      ],
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // RGB 색상 조절
  Widget _buildRGBControl() {
    return Card(
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            Text(
              &#39;RGB 색상 조절&#39;,
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),</p>
<pre><code>        SizedBox(height: 20),

        // 색상 미리보기
        Container(
          width: double.infinity,
          height: 100,
          decoration: BoxDecoration(
            color: Color.fromRGBO(
              red.toInt(),
              green.toInt(),
              blue.toInt(),
              1.0,
            ),
            borderRadius: BorderRadius.circular(10),
            border: Border.all(color: Colors.grey),
          ),
        ),

        SizedBox(height: 20),

        // Red 슬라이더
        Text(&amp;#39;Red: ${red.toInt()}&amp;#39;),
        Slider(
          value: red,
          min: 0,
          max: 255,
          activeColor: Colors.red,
          onChanged: (value) {
            setState(() {
              red = value;
            });
          },
        ),

        // Green 슬라이더
        Text(&amp;#39;Green: ${green.toInt()}&amp;#39;),
        Slider(
          value: green,
          min: 0,
          max: 255,
          activeColor: Colors.green,
          onChanged: (value) {
            setState(() {
              green = value;
            });
          },
        ),

        // Blue 슬라이더
        Text(&amp;#39;Blue: ${blue.toInt()}&amp;#39;),
        Slider(
          value: blue,
          min: 0,
          max: 255,
          activeColor: Colors.blue,
          onChanged: (value) {
            setState(() {
              blue = value;
            });
          },
        ),

        SizedBox(height: 10),

        // 색상 적용 버튼
        ElevatedButton(
          onPressed: setRGBColor,
          child: Text(&amp;#39;색상 적용&amp;#39;),
          style: ElevatedButton.styleFrom(
            minimumSize: Size(double.infinity, 50),
          ),
        ),

        SizedBox(height: 10),

        // 프리셋 색상 버튼
        Wrap(
          spacing: 10,
          children: [
            _buildPresetColorButton(&amp;#39;빨강&amp;#39;, 255, 0, 0),
            _buildPresetColorButton(&amp;#39;초록&amp;#39;, 0, 255, 0),
            _buildPresetColorButton(&amp;#39;파랑&amp;#39;, 0, 0, 255),
            _buildPresetColorButton(&amp;#39;노랑&amp;#39;, 255, 255, 0),
            _buildPresetColorButton(&amp;#39;보라&amp;#39;, 128, 0, 128),
            _buildPresetColorButton(&amp;#39;흰색&amp;#39;, 255, 255, 255),
          ],
        ),
      ],
    ),
  ),
);
</code></pre>
<p>  }</p>
<p>  // 프리셋 색상 버튼
  Widget _buildPresetColorButton(String name, double r, double g, double b) {
    return ElevatedButton(
      onPressed: () {
        setState(() {
          red = r;
          green = g;
          blue = b;
        });
        setRGBColor();
      },
      child: Text(name),
      style: ElevatedButton.styleFrom(
        backgroundColor: Color.fromRGBO(r.toInt(), g.toInt(), b.toInt(), 1.0),
      ),
    );
  }</p>
<p>  @override
  void dispose() {
    widget.device.disconnect();
    super.dispose();
  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">345 lines</span>
  </div></p>
</div>

<hr>
<h2 id="10단계-자주-발생하는-문제-해결">🐛 10단계: 자주 발생하는 문제 해결 {#10단계-자주-발생하는-문제-해결}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="문제-1-기기가-스캔되지-않음">문제 1: 기기가 스캔되지 않음 {#문제-1-기기가-스캔되지-않음}</h3>
<p><strong>증상:</strong></p>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6718" onclick="copyCode('code-1769481055220-6718')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6718" class="language-plaintext">📡 스캔 시작!
... (아무것도 안 뜸)
🛑 스캔 종료!
발견된 기기: 0개</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">4 lines</span>
  </div>
</div>

<p><strong>원인 및 해결:</strong></p>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6719" onclick="copyCode('code-1769481055220-6719')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6719" class="language-dart">✅ 해결 방법 1: 권한 확인

<p>// 권한 상태 확인
void checkPermissions() async {
  if (Platform.isAndroid) {
    var status = await Permission.bluetoothScan.status;</p>
<pre><code>if (!status.isGranted) {
  print(&amp;quot;❌ 블루투스 스캔 권한이 없습니다!&amp;quot;);
  await Permission.bluetoothScan.request();
}
</code></pre>
<p>  }
}</p>
<p>✅ 해결 방법 2: 블루투스 켜짐 확인</p>
<p>// 블루투스 어댑터 상태 확인
void checkBluetoothState() async {
  var adapterState = await FlutterBluePlus.adapterState.first;</p>
<p>  if (adapterState != BluetoothAdapterState.on) {
    print(&quot;❌ 블루투스가 꺼져 있습니다!&quot;);</p>
<pre><code>// 사용자에게 블루투스 켜도록 안내
showDialog(
  context: context,
  builder: (context) {
    return AlertDialog(
      title: Text(&amp;#39;블루투스를 켜주세요&amp;#39;),
      content: Text(&amp;#39;BLE 기기를 찾으려면 블루투스가 필요합니다.&amp;#39;),
      actions: [
        TextButton(
          onPressed: () {
            // 블루투스 설정으로 이동
            openAppSettings();
          },
          child: Text(&amp;#39;설정 열기&amp;#39;),
        ),
      ],
    );
  },
);
</code></pre>
<p>  }
}</p>
<p>✅ 해결 방법 3: 위치 서비스 확인 (Android)</p>
<p>// Android에서는 위치 서비스도 필요
void checkLocationService() async {
  if (Platform.isAndroid) {
    var status = await Permission.location.status;</p>
<pre><code>if (!status.isGranted) {
  print(&amp;quot;❌ 위치 권한이 없습니다!&amp;quot;);
  await Permission.location.request();
}
</code></pre>
<p>  }
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">49 lines</span>
  </div></p>
</div>

<h3 id="문제-2-연결-실패-또는-즉시-끊김">문제 2: 연결 실패 또는 즉시 끊김 {#문제-2-연결-실패-또는-즉시-끊김}</h3>
<p><strong>증상:</strong></p>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6720" onclick="copyCode('code-1769481055220-6720')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6720" class="language-plaintext">🔗 연결 시도 중...
❌ 연결 실패: TimeoutException
또는
✅ 연결 성공!
... (1초 후)
❌ 연결 끊김!</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">6 lines</span>
  </div>
</div>

<p><strong>해결:</strong></p>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6721" onclick="copyCode('code-1769481055220-6721')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6721" class="language-dart">✅ 해결 방법 1: 연결 타임아웃 늘리기

<p>await device.connect(
  timeout: Duration(seconds: 30), // 15초 → 30초로 증가
  autoConnect: false,
);</p>
<p>✅ 해결 방법 2: 재시도 로직 추가</p>
<p>Future&lt;void&gt; connectWithRetry(BluetoothDevice device, {int maxRetries = 3}) async {
  int attempt = 0;</p>
<p>  while (attempt &lt; maxRetries) {
    try {
      print(&quot;🔗 연결 시도 ${attempt + 1}/$maxRetries&quot;);</p>
<pre><code>  await device.connect(timeout: Duration(seconds: 15));

  print(&amp;quot;✅ 연결 성공!&amp;quot;);
  return;

} catch (e) {
  attempt++;
  print(&amp;quot;❌ 연결 실패 (시도 $attempt): $e&amp;quot;);

  if (attempt &amp;lt; maxRetries) {
    print(&amp;quot;⏱️ 3초 후 재시도...&amp;quot;);
    await Future.delayed(Duration(seconds: 3));
  } else {
    throw Exception(&amp;quot;최대 재시도 횟수 초과&amp;quot;);
  }
}
</code></pre>
<p>  }
}</p>
<p>✅ 해결 방법 3: 기기가 너무 멀리 있음</p>
<p>// 신호 세기 확인
if (scanResult.rssi &lt; -80) {
  print(&quot;⚠️ 신호가 약합니다! 기기를 가까이 가져오세요.&quot;);
  print(&quot;   현재 신호: ${scanResult.rssi} dBm&quot;);
  print(&quot;   권장: -70 dBm 이상&quot;);
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">33 lines</span>
  </div></p>
</div>

<h3 id="문제-3-ios에서-ble가-작동하지-않음">문제 3: iOS에서 BLE가 작동하지 않음 {#문제-3-ios에서-ble가-작동하지-않음}</h3>
<p><strong>증상:</strong></p>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6722" onclick="copyCode('code-1769481055220-6722')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6722" class="language-plaintext">iOS 시뮬레이터에서:
❌ 블루투스 사용 불가

<p>iOS 실제 기기 (디버그 모드):
❌ BLE 스캔 안 됨</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">4 lines</span>
  </div></p>
</div>

<p><strong>해결:</strong></p>
<div class="code-block" data-language="bash">
  <div class="code-block__header" style="background-color: #4eaa25; color: #fff">
    <span class="code-block__language">Bash</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6723" onclick="copyCode('code-1769481055220-6723')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6723" class="language-bash">✅ 해결 방법: 릴리스 모드로 빌드

<h1>1. 릴리스 모드 빌드</h1>
<p>flutter build ios --release</p>
<h1>2. Xcode에서 릴리스 구성으로 실행</h1>
<h1>Product &gt; Scheme &gt; Edit Scheme &gt; Run &gt; Build Configuration &gt; Release</h1>
<h1>3. 또는 TestFlight를 통해 배포</h1>
<p>flutter build ipa</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">7 lines</span>
  </div></p>
</div>

<div class="code-block" data-language="xml">
  <div class="code-block__header" style="background-color: #0060ac; color: #fff">
    <span class="code-block__language">XML</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6724" onclick="copyCode('code-1769481055220-6724')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6724" class="language-xml">✅ Info.plist 확인

<p>&lt;!-- 이 설명이 반드시 있어야 함! --&gt;
&lt;key&gt;NSBluetoothAlwaysUsageDescription&lt;/key&gt;
&lt;string&gt;이 앱은 IoT 센서와 통신하기 위해 블루투스를 사용합니다.&lt;/string&gt;</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">4 lines</span>
  </div></p>
</div>

<h3 id="문제-4-서비스캐릭터리스틱을-찾을-수-없음">문제 4: 서비스/캐릭터리스틱을 찾을 수 없음 {#문제-4-서비스캐릭터리스틱을-찾을-수-없음}</h3>
<p><strong>증상:</strong></p>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6725" onclick="copyCode('code-1769481055220-6725')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6725" class="language-plaintext">🔍 서비스 검색 중...
✅ 서비스 3개 발견!
📁 서비스: 0000180f...
📁 서비스: 0000180a...
📁 서비스: 0000181a...
❌ 온도 캐릭터리스틱을 찾을 수 없습니다</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">6 lines</span>
  </div>
</div>

<p><strong>해결:</strong></p>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6726" onclick="copyCode('code-1769481055220-6726')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6726" class="language-dart">✅ 해결 방법 1: UUID 확인

<p>// UUID 전체를 출력해서 확인
void listAllServices() async {
  List&lt;BluetoothService&gt; services = await device.discoverServices();</p>
<p>  for (var service in services) {
    print(&quot;📁 서비스 UUID: ${service.uuid}&quot;);</p>
<pre><code>for (var char in service.characteristics) {
  print(&amp;quot;  📄 캐릭터리스틱 UUID: ${char.uuid}&amp;quot;);
  print(&amp;quot;     속성: ${char.properties}&amp;quot;);
}
</code></pre>
<p>  }
}</p>
<p>✅ 해결 방법 2: 부분 매칭 사용</p>
<p>// 전체 UUID 대신 일부분만 비교
if (service.uuid.toString().toLowerCase().contains(&quot;181a&quot;)) {
  // 환경 센서 서비스 발견!
}</p>
<p>✅ 해결 방법 3: 표준 UUID 사용</p>
<p>// Bluetooth SIG 표준 UUID 사용
Map&lt;String, String&gt; standardUUIDs = {
  &#39;180f&#39;: &#39;배터리 서비스&#39;,
  &#39;180a&#39;: &#39;기기 정보 서비스&#39;,
  &#39;180d&#39;: &#39;심박수 서비스&#39;,
  &#39;181a&#39;: &#39;환경 센서 서비스&#39;,
  &#39;2a6e&#39;: &#39;온도 캐릭터리스틱&#39;,
  &#39;2a19&#39;: &#39;배터리 레벨 캐릭터리스틱&#39;,
};</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">27 lines</span>
  </div></p>
</div>

<h3 id="문제-5-readwritenotify가-작동하지-않음">문제 5: Read/Write/Notify가 작동하지 않음 {#문제-5-readwritenotify가-작동하지-않음}</h3>
<p><strong>증상:</strong></p>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6727" onclick="copyCode('code-1769481055220-6727')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6727" class="language-plaintext">📖 온도 읽기 시도...
❌ 읽기 실패: Characteristic does not support read</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">2 lines</span>
  </div>
</div>

<p><strong>해결:</strong></p>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6728" onclick="copyCode('code-1769481055220-6728')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6728" class="language-dart">✅ 해결 방법: 속성 확인 후 사용

<p>void safeRead(BluetoothCharacteristic char) async {
  // Read 가능한지 확인
  if (!char.properties.read) {
    print(&quot;❌ 이 캐릭터리스틱은 Read를 지원하지 않습니다!&quot;);
    print(&quot;   지원하는 속성:&quot;);</p>
<pre><code>if (char.properties.write) print(&amp;quot;   - Write&amp;quot;);
if (char.properties.notify) print(&amp;quot;   - Notify&amp;quot;);
if (char.properties.indicate) print(&amp;quot;   - Indicate&amp;quot;);

return;
</code></pre>
<p>  }</p>
<p>  // Read 수행
  try {
    List&lt;int&gt; value = await char.read();
    print(&quot;✅ 읽기 성공: $value&quot;);
  } catch (e) {
    print(&quot;❌ 읽기 실패: $e&quot;);
  }
}</p>
<p>// 모든 기능에 대해 유사하게 확인
void safeWrite(BluetoothCharacteristic char, List&lt;int&gt; data) async {
  if (!char.properties.write &amp;&amp; !char.properties.writeWithoutResponse) {
    print(&quot;❌ 이 캐릭터리스틱은 Write를 지원하지 않습니다!&quot;);
    return;
  }</p>
<p>  await char.write(data);
}</p>
<p>void safeNotify(BluetoothCharacteristic char) async {
  if (!char.properties.notify) {
    print(&quot;❌ 이 캐릭터리스틱은 Notify를 지원하지 않습니다!&quot;);
    return;
  }</p>
<p>  await char.setNotifyValue(true);
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">34 lines</span>
  </div></p>
</div>

<h3 id="디버깅-팁">🎯 디버깅 팁 {#디버깅-팁}</h3>
<div class="code-block" data-language="dart">
  <div class="code-block__header" style="background-color: #00b4ab; color: #fff">
    <span class="code-block__language">Dart</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6729" onclick="copyCode('code-1769481055220-6729')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6729" class="language-dart">// 완전한 디버깅 정보 출력
void printFullBLEInfo() async {
  print(&quot;\n=== BLE 디버깅 정보 ===\n&quot;);

<p>  // 1. 블루투스 어댑터 상태
  var adapterState = await FlutterBluePlus.adapterState.first;
  print(&quot;📱 어댑터 상태: $adapterState&quot;);</p>
<p>  // 2. 권한 상태 (Android)
  if (Platform.isAndroid) {
    print(&quot;\n🔐 권한 상태:&quot;);
    print(&quot;  - 블루투스 스캔: ${await Permission.bluetoothScan.status}&quot;);
    print(&quot;  - 블루투스 연결: ${await Permission.bluetoothConnect.status}&quot;);
    print(&quot;  - 위치: ${await Permission.location.status}&quot;);
  }</p>
<p>  // 3. 기기 정보
  print(&quot;\n📱 기기 정보:&quot;);
  print(&quot;  - 이름: ${device.name}&quot;);
  print(&quot;  - ID: ${device.id}&quot;);
  print(&quot;  - 연결 상태: ${await device.state.first}&quot;);</p>
<p>  // 4. 서비스 및 캐릭터리스틱
  if (await device.state.first == BluetoothDeviceState.connected) {
    List&lt;BluetoothService&gt; services = await device.discoverServices();</p>
<pre><code>print(&amp;quot;\n📁 서비스 목록:&amp;quot;);
for (var service in services) {
  print(&amp;quot;  UUID: ${service.uuid}&amp;quot;);

  for (var char in service.characteristics) {
    print(&amp;quot;    - ${char.uuid}&amp;quot;);
    print(&amp;quot;      속성: ${_getPropertiesString(char)}&amp;quot;);
  }
}
</code></pre>
<p>  }</p>
<p>  print(&quot;\n======================\n&quot;);
}</p>
<p>String _getPropertiesString(BluetoothCharacteristic char) {
  List&lt;String&gt; props = [];</p>
<p>  if (char.properties.read) props.add(&#39;Read&#39;);
  if (char.properties.write) props.add(&#39;Write&#39;);
  if (char.properties.writeWithoutResponse) props.add(&#39;WriteNoResp&#39;);
  if (char.properties.notify) props.add(&#39;Notify&#39;);
  if (char.properties.indicate) props.add(&#39;Indicate&#39;);</p>
<p>  return props.join(&#39;, &#39;);
}</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">41 lines</span>
  </div></p>
</div>

<hr>
<h2 id="용어-사전">📚 용어 사전 {#용어-사전}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="a-z">A-Z {#a-z}</h3>
<p><strong>Advertising (광고)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 프리퍼럴이 &quot;나 여기 있어요!&quot; 외치는 것</li>
<li><strong>비유</strong>: 가게 간판, 전단지 나눠주기</li>
<li><strong>예시</strong>: 센서가 0.5초마다 자신의 이름과 정보 방송</li>
</ul>
<p><strong>BLE (Bluetooth Low Energy)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 전력을 아주 조금만 쓰는 블루투스</li>
<li><strong>비유</strong>: LED 손전등 (일반 블루투스는 형광등)</li>
<li><strong>예시</strong>: 스마트 밴드, 온도 센서</li>
</ul>
<p><strong>Characteristic (캐릭터리스틱)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 실제 데이터가 저장된 곳</li>
<li><strong>비유</strong>: 폴더 안의 파일, 서랍 안의 물건</li>
<li><strong>예시</strong>: &quot;현재 온도&quot; = 25.3°C</li>
</ul>
<p><strong>Central (센트럴)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 데이터를 요청하는 기기 (손님 역할)</li>
<li><strong>비유</strong>: 레스토랑 손님, 은행 고객</li>
<li><strong>예시</strong>: 스마트폰, 태블릿</li>
</ul>
<p><strong>Flutter</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 구글이 만든 앱 개발 도구</li>
<li><strong>비유</strong>: 레고 조립 도구</li>
<li><strong>예시</strong>: 하나의 코드로 안드로이드 + iOS 앱 동시 제작</li>
</ul>
<p><strong>GATT (Generic Attribute Profile)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: BLE 데이터 구조의 규칙</li>
<li><strong>비유</strong>: 도서관의 책 분류 시스템</li>
<li><strong>예시</strong>: Service → Characteristic 계층 구조</li>
</ul>
<p><strong>IoT (Internet of Things)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 사물 인터넷, 모든 기기가 인터넷으로 연결</li>
<li><strong>비유</strong>: 집 안의 모든 가전제품이 대화</li>
<li><strong>예시</strong>: 스마트 냉장고, 온도 센서, 스마트 전구</li>
</ul>
<p><strong>Notify (알림)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 데이터 변경 시 자동으로 알려주는 기능</li>
<li><strong>비유</strong>: 스마트폰 푸시 알림</li>
<li><strong>예시</strong>: 온도가 바뀔 때마다 자동 전송</li>
</ul>
<p><strong>Peripheral (프리퍼럴)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 데이터를 제공하는 기기 (주인 역할)</li>
<li><strong>비유</strong>: 레스토랑 주인, 은행 직원</li>
<li><strong>예시</strong>: 아두이노 센서, 스마트 밴드</li>
</ul>
<p><strong>Read (읽기)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 센트럴이 데이터를 요청해서 받는 것</li>
<li><strong>비유</strong>: 은행 잔액 조회</li>
<li><strong>예시</strong>: &quot;현재 온도 알려줘&quot; → &quot;25°C&quot;</li>
</ul>
<p><strong>Scanning (스캐닝)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 주변의 블루투스 기기 찾기</li>
<li><strong>비유</strong>: 상점가 둘러보기</li>
<li><strong>예시</strong>: &quot;온도센서_001&quot; 발견!</li>
</ul>
<p><strong>Service (서비스)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 관련된 데이터들의 묶음</li>
<li><strong>비유</strong>: 백화점의 층, 컴퓨터의 폴더</li>
<li><strong>예시</strong>: 온도 서비스, 배터리 서비스</li>
</ul>
<p><strong>UUID (Universally Unique Identifier)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 각 서비스/캐릭터리스틱의 고유 번호</li>
<li><strong>비유</strong>: 주민등록번호, 차량 번호판</li>
<li><strong>예시</strong>: 0x180D (심박수 서비스)</li>
</ul>
<p><strong>Write (쓰기)</strong></p>
<ul>
<li><strong>쉬운 설명</strong>: 센트럴이 명령이나 데이터를 전송하는 것</li>
<li><strong>비유</strong>: 리모컨으로 TV 제어</li>
<li><strong>예시</strong>: &quot;LED 켜줘&quot; → LED ON</li>
</ul>
<hr>
<h2 id="참고-자료-및-추가-학습">🔗 참고 자료 및 추가 학습 {#참고-자료-및-추가-학습}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="공식-문서">공식 문서 {#공식-문서}</h3>
<ul>
<li><a href="https://flutter.dev/">Flutter 공식 사이트</a></li>
<li><a href="https://pub.dev/packages/flutter_blue_plus">flutter_blue_plus 패키지</a></li>
<li><a href="https://www.bluetooth.com/">Bluetooth SIG (블루투스 표준)</a></li>
<li><a href="https://www.arduino.cc/reference/en/libraries/arduinoble/">Arduino BLE 라이브러리</a></li>
</ul>
<h3 id="추천-학습-자료">추천 학습 자료 {#추천-학습-자료}</h3>
<ul>
<li><a href="https://flutter.dev/docs/get-started">Flutter 초보 가이드</a></li>
<li><a href="https://www.bluetooth.com/learn-about-bluetooth/tech-overview/">BLE 기초 강의</a></li>
<li><a href="https://www.arduino.cc/en/Tutorial/HomePage">Arduino 프로젝트</a></li>
</ul>
<h3 id="유용한-도구">유용한 도구 {#유용한-도구}</h3>
<ul>
<li><a href="https://www.nordicsemi.com/Products/Development-tools/nrf-connect-for-mobile">nRF Connect 앱</a> - BLE 기기 테스트</li>
<li><a href="https://punchthrough.com/lightblue/">LightBlue 앱</a> - iOS BLE 테스트</li>
<li><a href="https://developer.android.com/studio">Android Studio</a> - 안드로이드 개발</li>
<li><a href="https://developer.apple.com/xcode/">Xcode</a> - iOS 개발</li>
</ul>
<hr>
<h2 id="학습-체크리스트">✅ 학습 체크리스트 {#학습-체크리스트}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="기초-개념">기초 개념 {#기초-개념}</h3>
<ul>
<li><input disabled="" type="checkbox"> 블루투스와 BLE의 차이를 안다</li>
<li><input disabled="" type="checkbox"> 센트럴과 프리퍼럴의 역할을 설명할 수 있다</li>
<li><input disabled="" type="checkbox"> BLE 4단계 원리를 안다</li>
<li><input disabled="" type="checkbox"> GATT 구조를 이해한다</li>
<li><input disabled="" type="checkbox"> Service와 Characteristic의 관계를 안다</li>
</ul>
<h3 id="flutter-개발">Flutter 개발 {#flutter-개발}</h3>
<ul>
<li><input disabled="" type="checkbox"> Flutter 프로젝트를 생성할 수 있다</li>
<li><input disabled="" type="checkbox"> flutter_blue_plus 패키지를 설치했다</li>
<li><input disabled="" type="checkbox"> 안드로이드 권한을 설정할 수 있다</li>
<li><input disabled="" type="checkbox"> iOS 권한을 설정할 수 있다</li>
</ul>
<h3 id="ble-통신">BLE 통신 {#ble-통신}</h3>
<ul>
<li><input disabled="" type="checkbox"> 주변 기기를 스캔할 수 있다</li>
<li><input disabled="" type="checkbox"> 기기에 연결/해제할 수 있다</li>
<li><input disabled="" type="checkbox"> 서비스를 검색할 수 있다</li>
<li><input disabled="" type="checkbox"> 캐릭터리스틱을 찾을 수 있다</li>
</ul>
<h3 id="데이터-통신">데이터 통신 {#데이터-통신}</h3>
<ul>
<li><input disabled="" type="checkbox"> Read로 데이터를 읽을 수 있다</li>
<li><input disabled="" type="checkbox"> Write로 명령을 보낼 수 있다</li>
<li><input disabled="" type="checkbox"> Notify를 구독할 수 있다</li>
<li><input disabled="" type="checkbox"> 실시간 데이터를 처리할 수 있다</li>
</ul>
<h3 id="실전-프로젝트">실전 프로젝트 {#실전-프로젝트}</h3>
<ul>
<li><input disabled="" type="checkbox"> 온도 센서 앱을 만들 수 있다</li>
<li><input disabled="" type="checkbox"> LED 제어 앱을 만들 수 있다</li>
<li><input disabled="" type="checkbox"> 문제를 스스로 해결할 수 있다</li>
<li><input disabled="" type="checkbox"> 자신만의 IoT 프로젝트를 구상할 수 있다</li>
</ul>
<hr>
<h2 id="마무리하며">🎓 마무리하며 {#마무리하며}</h2>
<p><a href="#%F0%9F%93%91-%EB%AA%A9%EC%B0%A8">↑ 목차로 돌아가기</a></p>
<h3 id="축하합니다">🎉 축하합니다! {#축하합니다}</h3>
<p>이 가이드를 완료하신 여러분, 정말 축하드립니다! 🎊</p>
<p>이제 여러분은:</p>
<ul>
<li>✅ BLE 블루투스 통신의 기초를 확실히 이해했습니다</li>
<li>✅ Flutter로 BLE 앱을 만들 수 있습니다</li>
<li>✅ IoT 센서와 통신할 수 있습니다</li>
<li>✅ 실전 프로젝트를 완성할 수 있습니다</li>
</ul>
<h3 id="다음-단계는">💡 다음 단계는? {#다음-단계는}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6730" onclick="copyCode('code-1769481055220-6730')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6730" class="language-plaintext">🚀 레벨 1: 기초 다지기 (완료!)
   ✅ 블루투스 기본 개념
   ✅ Flutter 환경 설정
   ✅ 간단한 앱 만들기

<p>📈 레벨 2: 실력 향상
   → 여러 센서 동시 연결
   → 데이터 저장 및 분석
   → UI/UX 개선
   → 성능 최적화</p>
<p>🎯 레벨 3: 고급 기능
   → 백그라운드 스캔
   → 커스텀 GATT 프로파일
   → 펌웨어 업데이트 (OTA)
   → 상용 앱 배포</p>
<p>💪 레벨 4: 전문가
   → 자신만의 IoT 생태계 구축
   → 오픈소스 기여
   → 다른 개발자 멘토링</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">18 lines</span>
  </div></p>
</div>

<h3 id="여러분만의-프로젝트-아이디어">🌟 여러분만의 프로젝트 아이디어 {#여러분만의-프로젝트-아이디어}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6731" onclick="copyCode('code-1769481055220-6731')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6731" class="language-plaintext">🏠 스마트홈
- 통합 제어 시스템
- 에너지 모니터링
- 자동화 시나리오

<p>🏥 헬스케어</p>
<ul>
<li>건강 추적 앱</li>
<li>운동 코칭 시스템</li>
<li>약 복용 알림</li>
</ul>
<p>🚗 자동차</p>
<ul>
<li>차량 진단 도구</li>
<li>스마트 키 시스템</li>
<li>운전 분석 앱</li>
</ul>
<p>🎮 취미</p>
<ul>
<li>드론 제어</li>
<li>로봇 조종</li>
<li>스마트 악기</code></pre><div class="code-block__footer">
  <span class="code-block__lines">16 lines</span>
</div>
</div></li>
</ul>
<h3 id="계속-학습하기">📚 계속 학습하기 {#계속-학습하기}</h3>
<p><strong>추천 다음 학습 경로:</strong></p>
<ol>
<li><p><strong>Flutter 고급 과정</strong></p>
<ul>
<li>상태 관리 (Provider, Riverpod, Bloc)</li>
<li>아키텍처 패턴 (MVVM, Clean Architecture)</li>
<li>성능 최적화</li>
</ul>
</li>
<li><p><strong>IoT 하드웨어</strong></p>
<ul>
<li>Arduino 프로그래밍</li>
<li>ESP32 활용</li>
<li>센서 회로 설계</li>
</ul>
</li>
<li><p><strong>서버 연동</strong></p>
<ul>
<li>Firebase 통합</li>
<li>RESTful API</li>
<li>실시간 데이터베이스</li>
</ul>
</li>
</ol>
<h3 id="커뮤니티">🤝 커뮤니티 {#커뮤니티}</h3>
<p><strong>함께 성장하세요!</strong></p>
<ul>
<li>Flutter 한국 커뮤니티</li>
<li>Arduino &amp; IoT 포럼</li>
<li>GitHub 오픈소스 프로젝트</li>
<li>Stack Overflow</li>
</ul>
<h3 id="마지막-조언">💬 마지막 조언 {#마지막-조언}</h3>
<div class="code-block" data-language="plaintext">
  <div class="code-block__header" style="background-color: #6b7280; color: #fff">
    <span class="code-block__language">Plain Text</span>
    <button class="code-block__copy" data-code-id="code-1769481055220-6732" onclick="copyCode('code-1769481055220-6732')" title="Copy code">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      <span>Copy</span>
    </button>
  </div>
  <pre class="code-block__content"><code id="code-1769481055220-6732" class="language-plaintext">🎯 지수의 마지막 말

<p>&quot;처음에는 어렵게 느껴질 수 있어요.
하지만 한 줄씩, 하나씩 만들다 보면
어느새 멋진 IoT 앱을 완성한 자신을 발견하게 될 거예요!</p>
<p>가장 중요한 것은:
❤️ 재미있게 만드는 것
🔥 포기하지 않는 것
🌱 조금씩 성장하는 것</p>
<p>여러분의 IoT 개발 여정을 응원합니다! 화이팅! 💪&quot;</code></pre>
  <div class="code-block__footer">
    <span class="code-block__lines">9 lines</span>
  </div></p>
</div>

<hr>
<p><strong>✨ 파일 완성! 🎉</strong></p>
<p><strong>이 가이드는 다음을 포함합니다:</strong></p>
<ul>
<li>📖 파인만 기법으로 설명한 기초 개념</li>
<li>📚 스토리텔링 방식의 학습 경로</li>
<li>🌱🌿🌳 3단계 난이도별 예제</li>
<li>💻 실행 가능한 완전한 코드</li>
<li>🔧 실전 프로젝트 (온도 센서, LED 제어)</li>
<li>🐛 문제 해결 가이드</li>
<li>📚 용어 사전 및 체크리스트</li>
</ul>
<p><strong>총 4,000줄 이상의 종합 학습 자료입니다!</strong></p>
<p>여러분의 Flutter BLE IoT 개발 여정에 큰 도움이 되기를 바랍니다! 😊
궁금한 점이 있으면 언제든 물어보세요!</p>

            
            <!-- Tags -->
            <div class="article-tags">
              <a href="/tag/개발.html" class="article-tag">개발</a><a href="/tag/Flutter.html" class="article-tag">Flutter</a><a href="/tag/개발.html" class="article-tag">개발</a><a href="/tag/IoT.html" class="article-tag">IoT</a><a href="/tag/개발.html" class="article-tag">개발</a><a href="/tag/블루투스.html" class="article-tag">블루투스</a><a href="/tag/개발.html" class="article-tag">개발</a><a href="/tag/BLE.html" class="article-tag">BLE</a><a href="/tag/개발.html" class="article-tag">개발</a><a href="/tag/모바일.html" class="article-tag">모바일</a><a href="/tag/학습.html" class="article-tag">학습</a><a href="/tag/초보자.html" class="article-tag">초보자</a><a href="/tag/유형.html" class="article-tag">유형</a><a href="/tag/튜토리얼.html" class="article-tag">튜토리얼</a>
            </div>
          </div>
          
          <!-- Sidebar -->
          <aside class="article-sidebar">
            <div class="sidebar-section">
              <div class="sidebar-header">
                <span>RECENT ESSAYS</span>
                <span class="sidebar-arrow">→</span>
              </div>
              <div class="sidebar-posts">
                
        <a href="/articles/microsoft-winappcli-technical-deep-dive.html" class="sidebar-post">
          <div class="sidebar-post__image">
            <img src="/assets/images/development-guides-placeholder.svg" alt="Microsoft WinAppCli - Technical Deep Dive" loading="lazy">
          </div>
          <div class="sidebar-post__content">
            <h4 class="sidebar-post__title">Microsoft WinAppCli - Technical Deep Dive</h4>
            <span class="sidebar-post__author">개발 가이드</span>
          </div>
        </a>
      
        <a href="/articles/winapp-cli-complete.html" class="sidebar-post">
          <div class="sidebar-post__image">
            <img src="/assets/images/development-guides-placeholder.svg" alt="WinApp CLI 완전 정복" loading="lazy">
          </div>
          <div class="sidebar-post__content">
            <h4 class="sidebar-post__title">WinApp CLI 완전 정복</h4>
            <span class="sidebar-post__author">개발 가이드</span>
          </div>
        </a>
      
        <a href="/articles/claude-code-complete-guide.html" class="sidebar-post">
          <div class="sidebar-post__image">
            <img src="/assets/images/claude-code-placeholder.svg" alt="Claude Code 슬래시 명령어 완전 정복 가이드" loading="lazy">
          </div>
          <div class="sidebar-post__content">
            <h4 class="sidebar-post__title">Claude Code 슬래시 명령어 완전 정복 가이드</h4>
            <span class="sidebar-post__author">Claude 전문가</span>
          </div>
        </a>
      
        <a href="/articles/claude-code-perfect-guide.html" class="sidebar-post">
          <div class="sidebar-post__image">
            <img src="/assets/images/Claude-Code-마스터-가이드-Choi-OpenAI-정리--poster-1766707261525.jpg" alt="Claude Code 완벽 마스터 가이드" loading="lazy">
          </div>
          <div class="sidebar-post__content">
            <h4 class="sidebar-post__title">Claude Code 완벽 마스터 가이드</h4>
            <span class="sidebar-post__author">기술 전문가</span>
          </div>
        </a>
      
        <a href="/articles/flutter-beginners-guide-quick-start.html" class="sidebar-post">
          <div class="sidebar-post__image">
            <img src="/assets/images/development-guides-placeholder.svg" alt="Flutter 입문자 가이드 - 빠른 네비게이션 (Quick Start)" loading="lazy">
          </div>
          <div class="sidebar-post__content">
            <h4 class="sidebar-post__title">Flutter 입문자 가이드 - 빠른 네비게이션 (Quick Start)</h4>
            <span class="sidebar-post__author">개발 가이드</span>
          </div>
        </a>
      
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>

    <!-- Share -->
    <div class="article-share">
      <div class="container container--narrow">
        <span>Share this article:</span>
        <div class="share-buttons">
          <a href="https://twitter.com/intent/tweet?url=https://passeth.github.io/MY-BLOG_OBSI/articles/flutter-ble-iot-perfect-guide.html&text=Flutter BLE 블루투스 IoT 완벽 가이드" 
             class="share-btn share-btn--twitter" 
             target="_blank" 
             rel="noopener">
            Twitter
          </a>
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://passeth.github.io/MY-BLOG_OBSI/articles/flutter-ble-iot-perfect-guide.html&title=Flutter BLE 블루투스 IoT 완벽 가이드" 
             class="share-btn share-btn--linkedin" 
             target="_blank" 
             rel="noopener">
            LinkedIn
          </a>
          <button class="share-btn share-btn--copy" data-url="https://passeth.github.io/MY-BLOG_OBSI/articles/flutter-ble-iot-perfect-guide.html">
            Copy Link
          </button>
        </div>
      </div>
    </div>

    <!-- Author Bio -->
    <aside class="author-bio">
      <div class="container container--narrow">
        <a href="/journalist/dev-guide.html" class="author-bio__card">
          <img src="/assets/personas/dev-guide.svg" alt="개발 가이드" class="author-bio__avatar">
          <div class="author-bio__content">
            <h3 class="author-bio__name">개발 가이드</h3>
            <p class="author-bio__role">Development Guide Writer</p>
            <p class="author-bio__text">초보 개발자를 위한 친절한 가이드를 작성합니다.</p>
            <span class="author-bio__link">View all articles →</span>
          </div>
        </a>
      </div>
    </aside>
  </article>

  <!-- Related Articles -->
  <section class="related-section">
    <div class="container">
      <h2 class="section-title">Related Articles</h2>
      <div class="related-grid">
        
    <article class="article-card article-card--small">
      <a href="/articles/microsoft-winappcli-technical-deep-dive.html" class="article-card__link">
        
      <div class="article-card__image">
        <img src="/assets/images/development-guides-placeholder.svg"
             alt="Microsoft WinAppCli - Technical Deep Dive"
             loading="lazy">
        <span class="article-card__category" style="background-color: #f59e0b">
          개발 가이드
        </span>
      </div>
        <div class="article-card__content">
          <h3 class="article-card__title">Microsoft WinAppCli - Technical Deep Dive</h3>
          <p class="article-card__excerpt">초보 개발자를 위한 한국어 가이드는 WinApp CLI 완전 정복 || Windows App Development CLI 완전 정복을 참조하세요. Windows app development just got dramatically simpler. Microsoft's...</p>
          <div class="article-card__meta">
            <div class="article-card__author">
              <img src="/assets/personas/dev-guide.svg" alt="개발 가이드" class="article-card__avatar">
              <span>개발 가이드</span>
            </div>
            <span class="article-card__reading-time">12 min</span>
          </div>
        </div>
      </a>
    </article>
  
    <article class="article-card article-card--small">
      <a href="/articles/winapp-cli-complete.html" class="article-card__link">
        
      <div class="article-card__image">
        <img src="/assets/images/development-guides-placeholder.svg"
             alt="WinApp CLI 완전 정복"
             loading="lazy">
        <span class="article-card__category" style="background-color: #f59e0b">
          개발 가이드
        </span>
      </div>
        <div class="article-card__content">
          <h3 class="article-card__title">WinApp CLI 완전 정복</h3>
          <p class="article-card__excerpt">"복잡한 Windows 개발 환경 설정을 단 하나의 명령어로!" --- 이 문서는 WinApp CLI를 처음 사용하는 개발자를 위해 작성되었습니다. - 🎯 목표: Windows 앱 개발 환경 설정부터 배포까지 한 번에! - 📖 구성: 개념 설명 → 실습 명령어 →...</p>
          <div class="article-card__meta">
            <div class="article-card__author">
              <img src="/assets/personas/dev-guide.svg" alt="개발 가이드" class="article-card__avatar">
              <span>개발 가이드</span>
            </div>
            <span class="article-card__reading-time">29 min</span>
          </div>
        </div>
      </a>
    </article>
  
    <article class="article-card article-card--small">
      <a href="/articles/flutter-beginners-guide-quick-start.html" class="article-card__link">
        
      <div class="article-card__image">
        <img src="/assets/images/development-guides-placeholder.svg"
             alt="Flutter 입문자 가이드 - 빠른 네비게이션 (Quick Start)"
             loading="lazy">
        <span class="article-card__category" style="background-color: #f59e0b">
          개발 가이드
        </span>
      </div>
        <div class="article-card__content">
          <h3 class="article-card__title">Flutter 입문자 가이드 - 빠른 네비게이션 (Quick Start)</h3>
          <p class="article-card__excerpt">"어디서 시작해야 할까? 이 페이지가 도움될 거다." --- --- --- --- --- --- --- --- --- --- --- --- --- - Flutter란 무엇인가? || Flutter 입문자 완전 가이드 Part 1#Flutter란 정확히 무엇인가 -...</p>
          <div class="article-card__meta">
            <div class="article-card__author">
              <img src="/assets/personas/dev-guide.svg" alt="개발 가이드" class="article-card__avatar">
              <span>개발 가이드</span>
            </div>
            <span class="article-card__reading-time">15 min</span>
          </div>
        </div>
      </a>
    </article>
  
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <span class="site-logo">
            <span class="site-logo__text">AI &amp; Development Journal</span>
          </span>
          <p>AI 도구와 개발 기술의 실전 경험과 인사이트를 공유하는 기술 블로그</p>
        </div>
        <div class="footer-links">
          <h4>Categories</h4>
          <a href="/category/ai-tools.html">AI 도구</a>
          <a href="/category/claude-code.html">Claude Code</a>
          <a href="/category/mcp-servers.html">MCP</a>
          <a href="/category/development-guides.html">개발 가이드</a>
          <a href="/category/tutorials.html">튜토리얼</a>
          <a href="/category/obsidian-integration.html">Obsidian</a>
        </div>
        <div class="footer-links">
          <h4>Resources</h4>
          <a href="/feed.xml">RSS Feed</a>
          <a href="/sitemap.xml">Sitemap</a>
          <a href="/admin/">Admin</a>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2026 AI &amp; Development Journal. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script src="/scripts/main.js"></script>
</body>
</html>
